{% extends 'base.html.twig' %}
{% block title %}Computometrico {% endblock %}
{% block body %}
    <link rel="stylesheet" href="{{ asset('css/print.css') }}"  media="print">
    <div class="main-panel">
        <div class="content-wrapper">
            <div class="row">
                <div class="col-11">
                    <h3>Preventivi <small>Computometrico</small></h3>
                </div>
                <div class="col-1">
                    <div class="btn-group float-right action-buttons">
                        <a href="{{ url('mostra_preventivo_avanzato', {'pid': item.pid}) }}" class="btn btn-secondary btn-sm float-right ">
                            <i class="fa fa-chevron-left mr-0"></i> &nbsp; Indietro
                        </a>
                        <a href="" class="btn btn-success btn-sm float-right " id="print">
                            <i class="mdi mdi-printer mr-0"></i>
                        </a>
                    </div>
                </div>
            </div>
            {% for label, messages in app.flashes %}
                {% for message in messages %}
                    <div class="alert alert-{{ label }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endfor %}
            <div class="row">
                <div class="col-lg-12 grid-margin stretch-card">
                    <div class="card" id="page">
                        <div class="card-body">
                            <div class="table">
                                <table class="table table-hover border-o">
                                    <thead>
                                    <tr>
                                        <th class="no-wrap border">ARTICOLO</th>
                                        <th class="border" style="max-width: 300px; word-wrap: break-word;">DESCRIZIONE</th>
                                        <th class="no-wrap border">QUANTITÁ</th>
                                        <th class="no-wrap border">PREZZO NETTO UNITARIO</th>
                                        <th class="no-wrap border">PREZZO NETTO TOTALE</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% set prices = [] %}
                                    <tr>
                                        <td colspan="5" class="border table-light"><strong>PUNTI LUCE – COMANDO - PRESA</strong></td>
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Punti Luce</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.1.12.2</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                P.to luce semplice su canalizzazione in traccia o in vista <br>
                                                con un cavo non propagante l'incendio con sezione minima 1,5 mmq. <br>
                                                <strong>Per P.to luce con conduttore di protezione.</strong>
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.8 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.1.12.2')|number_format(2)  }}</td>
                                        <td class="border text-center">{{ (itemsArray.8 * fun.getPriceByCode('15.1.12.2'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([itemsArray.8 * fun.getPriceByCode('15.1.12.2')]) %}
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.1.1</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Canalizzazione per <strong>P.to luce in traccia</strong> per distanza non superiori a 60mt. <br>
                                                Sono esclusi i conduttori e le opere murarie.
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.8 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.1.1')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (itemsArray.8 * fun.getPriceByCode('15.1.1'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([itemsArray.8 * fun.getPriceByCode('15.1.1')]) %}
                                    </tr>
                                    {% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 0 %}
                                        <tr>
                                            <td class="border text-center">15.1.3.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per P.to luce per opere murarie su murature <strong>NON Intonacate.</strong> <br>
                                                    Sono esclusi: l'intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.8 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.1.3.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.8 * fun.getPriceByCode('15.1.3.1'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([itemsArray.8 * fun.getPriceByCode('15.1.3.1')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if item.opereMurarieIntonaco == 1 and item.opereMurariePietra == 0 %}
                                        <tr>
                                            <td class="border text-center">15.1.4.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per P.to luce per opere murarie su murature <strong>Intonacate.</strong> <br>
                                                    Sono esclusi: l'intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.8 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.1.4.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.8 * fun.getPriceByCode('15.1.4.1'))|number_format(2) }}</td>
                                        </tr>
                                        {% set prices = prices|merge([itemsArray.8 * fun.getPriceByCode('15.1.4.1')]) %}
                                    {% endif %}
                                    {% if item.opereMurariePietra == 1 %}
                                        <tr>
                                            <td class="border text-center">15.1.5.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per P.to luce per opere murarie su murature in <strong>mattone pieno, calcestruzzo o pietra.</strong> <br>
                                                    Sono esclusi: l'intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.8 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.1.5.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.8 * fun.getPriceByCode('15.1.5.1'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([itemsArray.8 * fun.getPriceByCode('15.1.5.1')]) %}
                                        </tr>
                                    {% endif %}
                                    <tr>
                                        <td colspan="5" class="border table-light">
                                            <strong>
                                                N.B.: il montaggio dei corpi illuminanti è escluso dalla presente offerta. Una volta che questi saranno stati definiti potremo fare un'offerta per<br>
                                                l'installazione se quantificabile, altrimenti procederemo nelle lavorazioni in economia con le tariffe orarie pattuite in fase di contratto. <br>
                                                Nel caso non venissero definiti prima della fine dei lavori o l'eventuale installazione non sia di nostra competenza, da parte nostra provvederemo <br>
                                                all'installazione di almeno un portalampade per ambiente. Eventuali accessori, se necessari, tipo tubazione rame e/o cavo in seta, verranno conteggiati<br>
                                                a parte con rendicontazione finale.
                                            </strong>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Punti di Comando</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.1.15.1</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                P.to di comando su canalizzazione in traccia o in vista
                                                con un cavo non propagante l'incendio <br>
                                                <strong>Per P.to di comando.</strong>
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.6 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.1.15.1')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (itemsArray.6 * fun.getPriceByCode('15.1.15.1'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([itemsArray.6 * fun.getPriceByCode('15.1.15.1')]) %}
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.1.2</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Canalizzazione per <strong>P.to di comando in traccia</strong> per distanza non superiori a 60mt. <br>
                                                Sono esclusi i conduttori e le opere murarie.
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.6 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.1.2')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (itemsArray.6 * fun.getPriceByCode('15.1.2'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([itemsArray.6 * fun.getPriceByCode('15.1.2')]) %}
                                    </tr>
                                    {% if itemsArray.7 > 0 %}
                                    <tr>
                                        <td class="border text-center">15.1.15.2</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Punto di comando aggiuntivo sulla stessa scatola. Per P.to di comando aggiuntivo
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.7 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.1.15.2')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (itemsArray.7 * fun.getPriceByCode('15.1.15.2'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([itemsArray.7  * fun.getPriceByCode('15.1.15.2')]) %}
                                    </tr>
                                    {% endif %}
                                    {% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 0 %}
                                        <tr>
                                            <td class="border text-center">15.1.3.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to di comando per opere murarie su murature <br>
                                                    <strong>NON Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.6 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.1.3.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.6 * fun.getPriceByCode('15.1.3.2'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([itemsArray.6 * fun.getPriceByCode('15.1.3.2')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if item.opereMurarieIntonaco == 1 and item.opereMurariePietra == 0 %}
                                        <tr>
                                            <td class="border text-center">15.1.4.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to di comando per opere murarie su murature <br>
                                                    <strong>Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.6 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.1.4.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.6 * fun.getPriceByCode('15.1.4.2'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([itemsArray.6 * fun.getPriceByCode('15.1.4.2')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if item.opereMurariePietra == 1 %}
                                        <tr>
                                            <td class="border text-center">15.1.5.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to di comando per opere murarie su murature in <br>
                                                    <strong>mattone pieno, calcestruzzo pietra.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.6 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.1.5.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.6 * fun.getPriceByCode('15.1.5.2'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([itemsArray.6 * fun.getPriceByCode('15.1.5.2')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if itemsArray.3 != null %}
                                        <tr>
                                            <td class="border text-center">15.1.15.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    P.to di comando aggiuntivo sulla stessa scatola. Per P.to di comando aggiuntivo.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.3 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.1.15.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.3 * fun.getPriceByCode('15.1.15.2'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([itemsArray.3 * fun.getPriceByCode('15.1.15.2')]) %}
                                        </tr>
                                    {% endif %}
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Punti Presa</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.2.21.1</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                P.to allaccio per presa monofase su canalizzazione in traccia o in vista <br>
                                                con cavo non propagante l'incendio di sezione idonea<br>
                                                <strong>Per allaccio monofase con carico massimo di 16A.</strong>
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.1 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.2.21.1')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (itemsArray.1 * fun.getPriceByCode('15.2.21.1'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([itemsArray.1 * fun.getPriceByCode('15.2.21.1')]) %}
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.2.1</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Canalizzazione per <strong>P.to Presa in traccia</strong> per distanza non superiori a 60 mt. <br>
                                                Sono esclusi i conduttori e le opere murarie<br>
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.1 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.2.1')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (itemsArray.1 * fun.getPriceByCode('15.2.1'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([itemsArray.1 * fun.getPriceByCode('15.2.1')]) %}
                                    </tr>
                                    {% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 0 %}
                                        <tr>
                                            <td class="border text-center">15.2.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to di comando per opere murarie su murature <br>
                                                    <strong>NON Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.1 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.2.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.1 * fun.getPriceByCode('15.2.2'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([itemsArray.1 * fun.getPriceByCode('15.2.2')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if item.opereMurarieIntonaco == 1 and item.opereMurariePietra == 0 %}
                                        <tr>
                                            <td class="border text-center">15.2.3</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to di comando per opere murarie su murature <br>
                                                    <strong>Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.1 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.2.3')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.1 * fun.getPriceByCode('15.2.3'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([itemsArray.1 * fun.getPriceByCode('15.2.3')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if item.opereMurariePietra == 1 %}
                                        <tr>
                                            <td class="border text-center">15.2.4</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to di comando per opere murarie su murature in <br>
                                                    <strong>mattone pieno, calcestruzzo pietra.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.1 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.2.4')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.1 * fun.getPriceByCode('15.2.4'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([itemsArray.1 * fun.getPriceByCode('15.2.4')]) %}
                                        </tr>
                                    {% endif %}
                                    <tr>
                                        <td class="border text-center">15.2.41.3</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Punto presa elettrica da collegare alla linea di alimentazione compensata a parte come allaccio elettrico. <br>
                                                Pt.o presa elettrica 2P+T 10/16A + UNEL. (Schuko Bipasso)<br>
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.1 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.2.41.3')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (itemsArray.1 * fun.getPriceByCode('15.2.41.3'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([itemsArray.1 * fun.getPriceByCode('15.2.41.3')]) %}
                                    </tr>
                                    {% if itemsArray.4 > 0 %}
                                    <tr>
                                        <td class="border text-center">15.2.41.2</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Presa elettrica aggiuntiva sulla stessa scatola 2P+T 10A o 16A o 10/16A (Bipresa) <br>
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.4 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.2.41.2')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (itemsArray.4 * fun.getPriceByCode('15.2.41.2'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([itemsArray.4 * fun.getPriceByCode('15.2.41.2')]) %}
                                    </tr>
                                    {% endif %}
                                    {% if itemsArray.5 > 0 %}
                                        <tr>
                                            <td class="border text-center">15.2.42</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Per allaccio ventilatori e o aspiratori
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.5 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.2.42')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.5 * fun.getPriceByCode('15.2.42'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([itemsArray.5 * fun.getPriceByCode('15.2.42')]) %}
                                        </tr>
                                        </tr>
                                    {% endif %}
                                    <tr>
                                        <td colspan="5" class="border table-light"><strong>SERVIZI</strong></td>
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Punti Presa di Servizio: TV Terrestre, TV Satellitare, Emergenza, Telefono, Rete Dati, Citofonia</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.3.10.0</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                PUNTO PRESA DI SERVIZIO in traccia sono escluse le opere murarie
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ qtyPS }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (qtyPS * fun.getPriceByCode('15.3.10'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([qtyPS * fun.getPriceByCode('15.3.10')]) %}
                                    </tr>
                                    {% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 0 %}
                                        <tr>
                                            <td class="border text-center">15.3.20.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                    <strong>NON Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ qtyPS }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.20.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (qtyPS * fun.getPriceByCode('15.3.20.1'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([qtyPS * fun.getPriceByCode('15.3.20.1')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if item.opereMurarieIntonaco == 1 and item.opereMurariePietra == 0 %}
                                        <tr>
                                            <td class="border text-center">15.3.20.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                    <strong>Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ qtyPS }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.20.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (qtyPS * fun.getPriceByCode('15.3.20.2'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([qtyPS * fun.getPriceByCode('15.3.20.2')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if item.opereMurariePietra == 1 %}
                                        <tr>
                                            <td class="border text-center">15.3.20.3</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature in <br>
                                                    <strong>mattone pieno, calcestruzzo pietra.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ qtyPS }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.20.3')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (qtyPS * fun.getPriceByCode('15.3.20.3'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([qtyPS * fun.getPriceByCode('15.3.20.3')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if item.antenna > 0 %}
                                        <tr>
                                            <td colspan="5" class="border table-light"><i>Impianto TV terrestre</i></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.151.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Impianto di ricezione di segnale TV digitale terrestre <strong>costituito da antenna di ricezione TV in <br>
                                                        banda UHF o VHF</strong>, idonea alla ricezione di segnale TV digitale terrestre con guadagno <br>
                                                    compreso superiore a 13 dB,  con possibilità di installazione con polarizzazione verticale o <br>
                                                    orizzontale, <strong>completa di palo e di sistemi di fissaggio su tetto o su copertura piana di <br>
                                                        qualsiasi natura, di cavi di collegamento fino all'impianto di amplificazione.</strong> Il tutto posto in <br>
                                                    opera a qualsiasi altezza, con tutto quanto occorre per dare il lavoro finito , incluse le eventuali <br>
                                                    opere murarie per il fissaggio ed il ripristino di eventuali parti  di copertura interessate. <br>
                                                    <strong>Sistema con due antenne</strong>
                                                </small>
                                            </td>
                                            <td class="border text-center">1</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.151.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.151.2')|number_format(2) }}</td>
                                            {% set prices = prices|merge([fun.getPriceByCode('15.3.151.2')]) %}
                                        </tr>
                                        {% if itemsArray.43 < 5 %}
                                            <tr>
                                                <td class="border text-center">15.3.161.1</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Amplificatore da palo per segnale TV digitale terrestre, per banda larga UHF - VHF, completo di <br>
                                                        alimentatore e quota di cavo a basse perdite per linea montante su canalizzazione predisposta, <br>
                                                        per la distribuzione del segnale derivato dalle antenne di ricezione, fino ai partitori. Posto in <br>
                                                        opera su palo o all'interno completo degli accessori necessari per dare l'opera finita e <br>
                                                        funzionante. <strong>Per alimentazione  fino a 5 prese</strong>
                                                    </small>
                                                </td>
                                                <td class="border text-center">1</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.161.1')|number_format(2) }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.161.1')|number_format(2) }}</td>
                                                {% set prices = prices|merge([fun.getPriceByCode('15.3.161.1')]) %}
                                            </tr>
                                        {% elseif itemsArray.43 > 6 and itemsArray.43 < 10 %}
                                            <tr>
                                                <td class="border text-center">15.3.161.2</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Amplificatore da palo per segnale TV digitale terrestre, per banda larga UHF - VHF, completo di <br>
                                                        alimentatore e quota di cavo a basse perdite per linea montante su canalizzazione predisposta, <br>
                                                        per la distribuzione del segnale derivato dalle antenne di ricezione, fino ai partitori. Posto in <br>
                                                        opera su palo o all'interno completo degli accessori necessari per dare l'opera finita e <br>
                                                        funzionante. <strong>Per alimentazione da 6 a 10 prese</strong>
                                                    </small>
                                                </td>
                                                <td class="border text-center">1</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.161.2')|number_format(2) }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.161.2')|number_format(2) }}</td>
                                                {% set prices = prices|merge([fun.getPriceByCode('15.3.161.2')]) %}
                                            </tr>
                                        {% elseif itemsArray.43 > 11 and itemsArray.43 < 15 %}
                                            <tr>
                                                <td class="border text-center">15.3.161.3</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Amplificatore da palo per segnale TV digitale terrestre, per banda larga UHF - VHF, completo di <br>
                                                        alimentatore e quota di cavo a basse perdite per linea montante su canalizzazione predisposta, <br>
                                                        per la distribuzione del segnale derivato dalle antenne di ricezione, fino ai partitori. Posto in <br>
                                                        opera su palo o all'interno completo degli accessori necessari per dare l'opera finita e <br>
                                                        funzionante. <strong>Per alimentazione da 11 a 15 prese</strong>
                                                    </small>
                                                </td>
                                                <td class="border text-center">1</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.161.3')|number_format(2) }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.161.3')|number_format(2) }}</td>
                                                {% set prices = prices|merge([fun.getPriceByCode('15.3.161.3')]) %}
                                            </tr>
                                        {% endif %}
                                    {% endif %}
                                    <tr>
                                        <td class="border text-center">15.3.110.1</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Incremento al punto presa di servizio per <strong>presa di ricezione TV terrestre</strong>
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.43 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.3.110.1')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (itemsArray.43 * fun.getPriceByCode('15.3.110.1'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([itemsArray.43 * fun.getPriceByCode('15.3.110.1')]) %}
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.4.230.0</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Cavo coassiale per impianti di antenna TV  al metro per linea dorsale
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ calcTVCable }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.4.230')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (calcTVCable * fun.getPriceByCode('15.4.230'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([calcTVCable * fun.getPriceByCode('15.4.230')]) %}
                                    </tr>
                                    {#{% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 0 %}
                                        <tr>
                                            <td class="border text-center">15.3.20.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature NON Intonacate. <br>
                                                    Sono esclusi: l’intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.43 }}</td>
                                            <td class="border text-center">8</td>
                                            <td class="border text-center">{{ itemsArray.43  * 8}}</td>
                                        </tr>
                                    {% endif %}
                                    {% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 1  %}
                                        <tr>
                                            <td class="border text-center">15.3.20.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature Intonacate. <br>
                                                    Sono esclusi: l'intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.43 }}</td>
                                            <td class="border text-center">12.9</td>
                                            <td class="border text-center">{{ itemsArray.43 * 12.9 }}</td>
                                        </tr>
                                    {% endif %}
                                    {% if item.opereMurariePietra == 1 %}
                                        <tr>
                                            <td class="border text-center">15.3.20.32</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Maggiorazione per opere murarie su muratura in mattone pieno, calcestruzzo o pietra.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.43 }}</td>
                                            <td class="border text-center">12.1</td>
                                            <td class="border text-center">{{ itemsArray.43  * 12.1}}</td>
                                        </tr>
                                    {% endif %}#}
                                    {% if qtyTR != 0 %}
                                        <tr>
                                            <td colspan="5" class="border table-light"><i>Impianto chiamata emergenza con tiranti dal bagno e delle camere da letto</i></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.40.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per <strong>impianto di chiamata</strong>
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ qtyTR }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.40.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (qtyTR * fun.getPriceByCode('15.3.40.1'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([qtyTR * fun.getPriceByCode('15.3.40.1')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.90.0</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per segnalatore acustico di tipo a <strong>ronzatore per EMERGENZE</strong>
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ qtyTR }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.90')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (qtyTR * fun.getPriceByCode('15.3.90'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([qtyTR * fun.getPriceByCode('15.3.90')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if item.numPreseTelefono != 0 %}
                                        <tr>
                                            <td colspan="5" class="border table-light"><i>Impianto Telefonico</i></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.210.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per <strong>presa telefonica</strong> con presa ad 1 coppia
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ qtyTP }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.210.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (qtyTP * fun.getPriceByCode('15.3.210.1'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([qtyTP * fun.getPriceByCode('15.3.210.1')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.4.240.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Linea telefonica in cavo multicoppie a 2 coppie al metro per linea dorsale
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ calcTPCable|number_format(0) }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.4.240.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (calcTPCable|number_format(0) * fun.getPriceByCode('15.4.240.1'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([calcTPCable * fun.getPriceByCode('15.4.240.1')]) %}
                                        </tr>
                                        {#{% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 0 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.1</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature NON Intonacate. <br>
                                                        Sono esclusi: l’intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ qtyTP }}</td>
                                                <td class="border text-center">8.00</td>
                                                <td class="border text-center">{{ qtyTP  * 8.00}}</td>
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 1  %}
                                            <tr>
                                                <td class="border text-center">15.3.20.2</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature Intonacate. <br>
                                                        Sono esclusi: l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemsArray.43 }}</td>
                                                <td class="border text-center">12.9</td>
                                                <td class="border text-center">{{ itemsArray.43 * 12.9 }}</td>
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurariePietra == 1 %}
                                            <td class="border text-center">15.3.20.3</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Maggiorazione per opere murarie su muratura in mattone pieno, calcestruzzo o pietra.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ qtyTP }}</td>
                                            <td class="border text-center">12.1</td>
                                            <td class="border text-center">{{ (qtyTP * 12.10)|number_format(1)}}</td>
                                        {% endif %}#}
                                    {% endif %}
                                    {% if item.numPreseDati != 0 and item.level == 3 %}
                                        <tr>
                                            <td colspan="5" class="border table-light"><i>Connettorizzazione punti trasmissione dati.</i></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.220.6</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per <strong>connettore tipo RJ45</strong> con cavo UTP cat. 6
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ qtyPD }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.220.6')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (qtyPD|number_format(0) * fun.getPriceByCode('15.3.220.6'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([qtyPD * fun.getPriceByCode('15.3.220.6')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if item.campanello != 0 %}
                                        <tr>
                                            <td colspan="5" class="border table-light"><i>Segnalatore Acustico</i></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.80.4</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per impianto di comando di suoneria. Con pulsante <br>
                                                    con targa.
                                                </small>
                                            </td>
                                            <td class="border text-center">1</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.80.4')|number_format(2) }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.80.4')|number_format(2) }}</td>
                                            {% set prices = prices|merge([fun.getPriceByCode('15.3.80.4')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.90</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per segnalatore acustico di tipo a <strong> SUONERIA</strong>
                                                </small>
                                            </td>
                                            <td class="border text-center">1</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.90')|number_format(2) }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.90')|number_format(2) }}</td>
                                            {% set prices = prices|merge([fun.getPriceByCode('15.3.90')]) %}
                                        </tr>
                                    {% endif %}
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Orologio Astronomico</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.6.170.39</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Interruttore deviatore orario giornaliero e settimanale (ris. Carica 100h) digitale ad 1 uscita.
                                            </small>
                                        </td>
                                        <td class="border text-center">1</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.6.170.39')|number_format(2) }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.6.170.39')|number_format(2) }}</td>
                                        {% set prices = prices|merge([fun.getPriceByCode('15.6.170.39')]) %}
                                    </tr>
                                    <!--<tr>
                                        <td colspan="5" class="border table-light"><i>Impianto Citofonico o Videocitofonico</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.3.52.1</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Incremento al punto presa di servizio per <strong>impianto citofonico o videocitofonico, sistema a 2 fili.
                                                    Per impianto base fino a 26 interni.</strong>
                                            </small>
                                        </td>
                                        <td class="border text-center">2</td>
                                        <td class="border text-center">96.00</td>
                                        <td class="border text-center">192.00</td>
                                    </tr>-->
                                    {% if itemsArray.14 > 0 %}
                                        <tr>
                                            <td colspan="5" class="border table-light"><i>Lampade emergenza</i></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.8.180.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    PLAFONIERA DI EMERGENZA INSTALLABILE SU SCATOLE PORTAFRUTTO. Su placca in alluminio anodizzato o in plastica.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.14 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.8.180.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.14 * fun.getPriceByCode('15.8.180.1'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([itemsArray.14 * fun.getPriceByCode('15.8.180.1')]) %}
                                        </tr>
                                    {% endif %}
                                    <tr>
                                        <td colspan="5" class="border table-light"><strong>IMPIANTO DI RISCALDAMENTO</strong></td>
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Punti Presa di Servizio</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.3.10.0</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                PUNTO PRESA DI SERVIZIO in traccia. Sono escluse le opere murarie
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ qtyPST }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (qtyPST * fun.getPriceByCode('15.3.10'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([qtyPST * fun.getPriceByCode('15.3.10')]) %}
                                    </tr>
                                    {% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 0 %}
                                        <tr>
                                            <td class="border text-center">15.3.20.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature NON Intonacate. <br>
                                                    Sono esclusi: l’intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ qtyPST }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.20.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (qtyPST * fun.getPriceByCode('15.3.20.1'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([qtyPST * fun.getPriceByCode('15.3.20.1')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 1  %}
                                        <tr>
                                            <td class="border text-center">15.3.20.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature Intonacate. <br>
                                                    Sono esclusi: l'intonaco, la rasatura e la tinteggiatura
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ qtyPST }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.20.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (qtyPST * fun.getPriceByCode('15.3.20.2'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([qtyPST * fun.getPriceByCode('15.3.20.2')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if item.opereMurariePietra == 1 %}
                                        <td class="border text-center">15.3.20.3</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Maggiorazione per opere murarie su muratura in mattone pieno, calcestruzzo o pietra.
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ qtyPST }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.3.20.3')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (qtyPST * fun.getPriceByCode('15.3.20.3'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([qtyPST * fun.getPriceByCode('15.3.20.3')]) %}
                                    {% endif %}
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Allaccio di regolazione </i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">13.21.10.0</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Collegamento elettrico di regolazione di impianti tecnologici, eseguito sottotraccia <br>
                                                per alimentare dal quadro elettrico di centrale o di zona una apparecchiatura di regololazione<br>
                                                (<strong>termostato</strong>, umidostato, flussostato, sonda di temperatura, pressostato, ecc.)
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ item.pianiCasa }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('13.21.10')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (item.pianiCasa * fun.getPriceByCode('13.21.10'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([item.pianiCasa * fun.getPriceByCode('13.21.10')]) %}
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Termostato</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">13.19.10.4</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Termostato elettronico da parete.
                                            </small>
                                        </td>
                                        <td class="border text-center">
                                            {% if itemsArray.20 == 0 %}
                                            1
                                            {% elseif itemsArray.20 == 1 %}
                                            1
                                            {% elseif itemsArray.20 > 1 %}
                                            2
                                            {% endif %}
                                        </td>
                                        <td class="border text-center">{{ fun.getPriceByCode('13.19.10.4')|number_format(2) }}</td>
                                        <td class="border text-center">
                                            {% if itemsArray.20 == 0 %}
                                                {{ fun.getPriceByCode('13.19.10.4')|number_format(2) }}
                                            {% elseif itemsArray.20 == 1 %}
                                                {{ fun.getPriceByCode('13.19.10.4')|number_format(2) }}
                                            {% elseif itemsArray.20 > 1 %}
                                                {{ fun.getPriceByCode('13.19.10.4')|number_format(2) * 2 }}
                                            {% endif %}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Allaccio di Potenza</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">13.21.40.1</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Collegamento elettrico di potenza di apparecchiature tecnologiche, eseguito sottotraccia,<br>
                                                per alimentare dal quadro elettrico di centrale o di zona, una apparecchiatura di potenza <br>
                                                (<strong>bruciatore</strong>, elettropompa, compressore, aerotermo, unità termoventilante, aspiratore, ventilconvettore, ecc.)
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.18 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('13.21.40.1')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (itemsArray.18 * fun.getPriceByCode('13.21.40.1'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([itemsArray.18 * fun.getPriceByCode('13.21.40.1')]) %}
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Allaccio Condizionatori</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">13.21.40.1</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Collegamento elettrico di potenza di apparecchiature tecnologiche, eseguito sottotraccia,<br>
                                                per alimentare dal quadro elettrico di centrale o di zona, una apparecchiatura di potenza <br>
                                                (bruciatore, elettropompa, compressore, <strong>aerotermo</strong>, unità termoventilante, aspiratore, <strong>ventilconvettore</strong>, ecc.)
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.17 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('13.21.40.1')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (itemsArray.17 * fun.getPriceByCode('13.21.40.1'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([itemsArray.17 * fun.getPriceByCode('13.21.40.1')]) %}
                                    </tr>
                                    {%  if itemsArray.19 > 0 %}
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Allaccio collettori</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">13.21.10</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Collegamento elettrico di regolazione di impianti tecnologici, eseguito sottotraccia per alimentare <br>
                                                dal quadro elettrico di centrale o di zona una apparecchiatura di regololazione (termostato, umidostato,<br>
                                                flussostato, sonda di temperatura, pressostato, ecc.)
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.19 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('13.21.10')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (itemsArray.19 * fun.getPriceByCode('13.21.10'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([itemsArray.19 * fun.getPriceByCode('13.21.10')]) %}
                                    </tr>
                                    {% endif %}
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Collegamento Testine nei collettori per Ambiente</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.2.70.7</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Per allaccio elettrico incluso il collegamento all'apparecchio
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.17 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.2.70.7')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (itemsArray.17 * fun.getPriceByCode('15.2.70.7'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([itemsArray.17 * fun.getPriceByCode('15.2.70.7')]) %}
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light">
                                            <strong>
                                                QUADRI ELETTRICI PER IMPIANTO ELETTRICO, SERVIZI E PREDISPOSIZIONI DOMOTICHE: LE ESATTE QUANTITA' E TIPOLOGIE DEI VARI APPARATI <br>
                                                SARANNO CONTEGGIATI AL TERMINE DELLE LAVORAZIONI IN MODO DA RISPETTARE L'ESATTO COORDINAMENTO DELLE PROTEZIONI COME DA <br>
                                                NORMATIVA. ALTRIMENTI PER UN'ESATTA DEFINZIONE DEI QUADRI ELETTRICI E' NECESSARIO, PRIMA DELL'INIZIO DELLE LAVORAZIONI,  <br>
                                                AVERE IL PROGETTO DEGLI IMPIANTI TECNOLOGICI E L'ESATTA TIPOLOGIA DI UTILIZZATORI CHE VERRANNO INSTALLATI <br>
                                                (AD ESEMPIO FORNI, LAVATRICI, SAUNE, CONZIONATORI, PISCINE ECC...)
                                            </strong>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Quadri elettrici per impianto elettrico e predisposizione domotica.</i></td>
                                    </tr>
                                    {% if (itemsArray.22 > 0) %}
                                        <tr>
                                            <td class="border text-center">15.6.220.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Centralino tipo appartamento incassato a parete 12  moduli. <strong>PER CITOFONO E/O CENTRALINO</strong>
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.22 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.6.220.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.22 * fun.getPriceByCode('15.6.220.1'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([itemsArray.22 * fun.getPriceByCode('15.6.220.1')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if (itemsArray.23 > 0) %}
                                        <tr>
                                            <td class="border text-center">15.6.220.3</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Centralino tipo appartamento incassato a parete 36  moduli. <strong>PER CITOFONO E/O CENTRALINO</strong>
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.23 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.6.220.3')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.23 * fun.getPriceByCode('15.6.220.3'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([itemsArray.23 * fun.getPriceByCode('15.6.220.3')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if (itemsArray.24 > 0) %}
                                        <tr>
                                            <td class="border text-center">15.6.220.4</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Centralino tipo appartamento incassato a parete 54  moduli. <strong>PER CITOFONO E/O CENTRALINO</strong>
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.24 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.6.220.4')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.24 * fun.getPriceByCode('15.6.220.4'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([itemsArray.24 * fun.getPriceByCode('15.6.220.4')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if (itemsArray.25 > 0) %}
                                        <tr>
                                            <td class="border text-center">15.6.220.5</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Centralino tipo appartamento incassato a parete 72  moduli. <strong>PER CITOFONO E/O CENTRALINO</strong>
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.25 }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.6.220.5')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (itemsArray.25 * fun.getPriceByCode('15.6.220.5'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([itemsArray.25 * fun.getPriceByCode('15.6.220.5')]) %}
                                        </tr>
                                    {% endif %}
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Interruttori magnetotermici differenziali: circuiti luce di ogni piano, Forza motrice di ogni piano, allarme, impianto antenna,<br>
                                                Domotica, centralino telefonico, linea luce esterna.</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.06.52.1</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Interruttore magnetotermico differenziale fino a 32A, potere di interruzione 4,5KA, I.d. 0,03A
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ item.numCircuiti }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.6.52.1')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (item.numCircuiti * fun.getPriceByCode('15.6.52.1'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([item.numCircuiti * fun.getPriceByCode('15.6.52.1')]) %}
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Sezionatore Quadro Generale</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.6.10.8</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Interruttore automatico magnetotermico Caratteristica C. Potere di interruzione 6KA. Bipolare da 40 a 63A.
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.22 + itemsArray.23 + itemsArray.24 + itemsArray.25 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.6.10.8')|number_format(2) }}</td>
                                        <td class="border text-center">{{ ((itemsArray.22 + itemsArray.23 + itemsArray.24 + itemsArray.25) * fun.getPriceByCode('15.6.10.8'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([(itemsArray.22 + itemsArray.23 + itemsArray.24 + itemsArray.25) * fun.getPriceByCode('15.6.10.8')]) %}
                                    </tr>


                                    {% if itemsArray.25 > 0 %}
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Differenziale puro</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.06.10.8</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Interruttore automatico magnetotermico Caratteristica C. Potere di interruzione 6KA. Bipolare da 10 a 32A.
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ itemsArray.25 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.06.10.8')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (itemsArray.25 * fun.getPriceByCode('15.06.10.8'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([itemsArray.25 * fun.getPriceByCode('15.06.10.8')]) %}
                                    </tr>
                                    {% endif %}
                                    <tr>
                                        <td colspan="5" class="border table-light">
                                            <strong>
                                                QUOTA LINEE DORSALI: LE ESATTE QUANTITA' E TIPOLOGIE DEI CAVI E DEI CORRUGATI  SARANNO CONTEGGIATE AL TERMINE DELLE LAVORAZIONI <br>
                                                IN QUANTO ALLO STATO ATTUALE NON E' POSSOBILE DETERMINARE L'ESATTA POSIZIONE DELLE SCATOLE DI DERIVAZIONE E DELLA COLONNA MONTANTE <br>
                                                PER MOTIVI ARCHITETTONICI E/O STRUTTURALI.
                                            </strong>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Quota cavi linea dorsale per impianto elettrico linee dorsali</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.4.110.12</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Linea Elettrica in cavo unipolare isolato in PVC, NO7V-K  1*6mmq al metro
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ item.pianiCasa * 15 * 3 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.4.110.12')|number_format(2) }}</td>
                                        <td class="border text-center">{{ ((item.pianiCasa * 15 * 3) * fun.getPriceByCode('15.4.110.12'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([(item.pianiCasa * 15 * 3) * fun.getPriceByCode('15.4.110.12')]) %}
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light"><i>Quota corrugati per dorsale e relativa traccia</i></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.5.10.3</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Tubazione flessibile in PVC autoestinguente serie pesante IMQ. Diametro esterno mm 25. Al metro.
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ item.pianiCasa * 15 * 2 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.5.10.3')|number_format(2) }}</td>
                                        <td class="border text-center">{{ ((item.pianiCasa * 15 * 2) * fun.getPriceByCode('15.5.10.3'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([(item.pianiCasa * 15 * 2) * fun.getPriceByCode('15.5.10.3')]) %}
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.5.10.4</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Tubazione flessibile in PVC autoestinguente serie pesante IMQ. Diametro esterno mm 32. Al metro.
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ item.pianiCasa * 15 * 2 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.5.10.4')|number_format(2) }}</td>
                                        <td class="border text-center">{{ ((item.pianiCasa * 15 * 2) * fun.getPriceByCode('15.5.10.4'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([(item.pianiCasa * 15 * 2) * fun.getPriceByCode('15.5.10.4')]) %}
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.5.180.1</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Traccia su muratura di qualsiasi genere esclusa quella in pietra e in calcestruzzo. <br>
                                                Per larghezza della traccia fino a 10 cm al metro lineare.
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ item.pianiCasa * 4 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.5.180.1')|number_format(2) }}</td>
                                        <td class="border text-center">{{ ((item.pianiCasa * 4) * fun.getPriceByCode('15.5.180.1'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([(item.pianiCasa * 15 * 2) * fun.getPriceByCode('15.5.180.1')]) %}
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.5.180.2</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Traccia su muratura di qualsiasi genere esclusa quella in pietra e in calcestruzzo. <br>
                                                Per larghezza della traccia fino a 10 cm al metro lineare.
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ item.pianiCasa * 2 * 3 }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.5.180.2')|number_format(2) }}</td>
                                        <td class="border text-center">{{ ((item.pianiCasa * 2 * 3) * fun.getPriceByCode('15.5.180.2'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([(item.pianiCasa * 15 * 2) * fun.getPriceByCode('15.5.180.2')]) %}
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light">
                                            <i>
                                                Scatole derivazione per predisposizione domotica. Queste scatole consentono in futuro di poter allocare in campo <br>
                                                eventuali dispositivi domotici.
                                            </i>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.5.80.8</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Scatola di derivazione in plastica da incasso. Dimensioni assimilabili a mm 392x152x70.
                                            </small>
                                        </td>
                                        <td class="border text-center">{{ item.pianiCasa  }}</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.5.80.8')|number_format(2) }}</td>
                                        <td class="border text-center">{{ ((item.pianiCasa) * fun.getPriceByCode('15.5.80.8'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([(item.pianiCasa) * fun.getPriceByCode('15.5.80.8')]) %}
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light"><strong>INGRESSO LINEA ELETTRICA ENEL DIMENSIONATA PER FORNITURA 4,5KW</strong></td>
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light">
                                            <i>
                                                Ingresso linea cavi impianto elettrico misura ipotetica: <u>L'esatta misura e/o sezione verrà conteggiata nel momento in cui verrà <br>
                                                    stabilita la posizione del contatore e la fornitura di allaccio se monofase o trifase</u>
                                            </i>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.4.21.40</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Linea Elettrica in cavo multipolare isolato in EPR sotto guaina di PVC, sigla RG70R 0,6/1KV o FG70R 0,6/1KV 2*10mmq al metro.
                                            </small>
                                        </td>
                                        <td class="border text-center">20</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.4.21.40')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (20 * fun.getPriceByCode('15.4.21.40'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([20 * fun.getPriceByCode('15.4.21.40')]) %}
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="border table-light"><strong>IMPIANTO DI MESSA A TERRA</strong></td>
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.4.110.10</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                LINEA ELETTRICA IN CAVO UNIPOLARE ISOLATO IN PVC.  Linea elettrica in cavo <br>
                                                unipolare isolato in sigla di designazione NO7V-K (norme CEI 20-20 , CEI 20-22,<br>
                                                CEI 20-35) del tipo non propagante l'incendio. 16 mm2
                                            </small>
                                        </td>
                                        <td class="border text-center">20</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.4.110.10')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (20 * fun.getPriceByCode('15.4.110.10'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([20 * fun.getPriceByCode('15.4.110.10')]) %}
                                    </tr>
                                    {% if item.spd == "1" %}
                                        {% if item.trifase == 0 %}
                                            <tr>
                                                <td class="border text-center">15.7.201</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Scaricatore per corrente di fulmine Unipolare  SPD Tipo 1. <br>
                                                        Per ogni polo di fase protetto.
                                                    </small>
                                                </td>
                                                <td class="border text-center">1</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.7.201')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (fun.getPriceByCode('15.7.201'))|number_format(2) }}</td>
                                                {% set prices = prices|merge([fun.getPriceByCode('15.7.201')]) %}
                                            </tr>
                                            <tr>
                                                <td class="border text-center">15.7.202</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Scaricatore per corrente di fulmine N-PE SPD Tipo 1
                                                    </small>
                                                </td>
                                                <td class="border text-center">1</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.7.202')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (fun.getPriceByCode('15.7.202'))|number_format(2) }}</td>
                                                {% set prices = prices|merge([fun.getPriceByCode('15.7.202')]) %}
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td class="border text-center">15.7.201</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Scaricatore per corrente di fulmine Unipolare  SPD Tipo 1. <br>
                                                        Per ogni polo di fase protetto.
                                                    </small>
                                                </td>
                                                <td class="border text-center">1</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.7.201')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (fun.getPriceByCode('15.7.201'))|number_format(2) }}</td>
                                                {% set prices = prices|merge([fun.getPriceByCode('15.7.201')]) %}
                                            </tr>
                                            <tr>
                                                <td class="border text-center">15.7.202</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Scaricatore per corrente di fulmine N-PE  SPD Tipo 1
                                                    </small>
                                                </td>
                                                <td class="border text-center">1</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.7.202')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (3 * fun.getPriceByCode('15.7.202'))|number_format(2) }}</td>
                                                {% set prices = prices|merge([3 * fun.getPriceByCode('15.7.202')]) %}
                                            </tr>
                                        {% endif %}
                                    {% else %}
                                        <tr>
                                            <td class="border text-center">15.7.204.4</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Limitatore di sovratensioni (SPD) Tipo 2. Quadripolare per reti TT (esecuzione 3+1).
                                                </small>
                                            </td>
                                            <td class="border text-center">1</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.7.204.4')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (fun.getPriceByCode('15.7.204.4'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([fun.getPriceByCode('15.7.204.4')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.7.201</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Scaricatore per corrente di fulmine N-PE SPD Tipo 2
                                                </small>
                                            </td>
                                            <td class="border text-center">1</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.7.201')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (fun.getPriceByCode('15.7.201'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([fun.getPriceByCode('15.7.201')]) %}
                                        </tr>
                                    {% endif %}
                                    <tr>
                                        <td class="border text-center">15.5.260.1</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Pozzetto in resina completo di coperchio carrabile. 300x300mm
                                            </small>
                                        </td>
                                        <td class="border text-center">1</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.5.260.1')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (fun.getPriceByCode('15.5.260.1'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([fun.getPriceByCode('15.5.260.1')]) %}
                                    </tr>
                                    <tr>
                                        <td class="border text-center">15.7.60.1</td>
                                        <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                            <small>
                                                Puntazza a croce per dispersione, realizzate in acciaio zincato a fuoco di dimensioni 50*50*5mm,<br>
                                                da conficcare in terreno di media consistenza all'interno di pozzetto ispezionabile, fornita e posta in opera.<br>
                                                Di lunghezza pari a 1,5 mt
                                            </small>
                                        </td>
                                        <td class="border text-center">1</td>
                                        <td class="border text-center">{{ fun.getPriceByCode('15.7.60.1')|number_format(2) }}</td>
                                        <td class="border text-center">{{ (fun.getPriceByCode('15.7.60.1'))|number_format(2) }}</td>
                                        {% set prices = prices|merge([fun.getPriceByCode('15.7.60.1')]) %}
                                    </tr>
                                    {% if item.opereMurarie == 0 %}
                                        <tr>
                                            <td class="border text-center">15.2.160.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Nodo equipotenziale, costituito da barretta in rame forata. Escluse le opere murarie.
                                                </small>
                                            </td>
                                            <td class="border text-center">1</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.2.160.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (fun.getPriceByCode('15.2.160.1'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([fun.getPriceByCode('15.2.160.1')]) %}
                                        </tr>
                                    {% else %}
                                        <tr>
                                            <td class="border text-center">15.2.160.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Nodo equipotenziale, costituito da barretta in rame forata. Comprese le opere murarie.
                                                </small>
                                            </td>
                                            <td class="border text-center">1</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.2.160.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ (fun.getPriceByCode('15.2.160.2'))|number_format(2) }}</td>
                                            {% set prices = prices|merge([fun.getPriceByCode('15.2.160.2')]) %}
                                        </tr>
                                    {% endif %}
                                    {% if item.level == 3 %}
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Relè Passo Passo ed alimentatori già suddivisi per piano: NECESSARI PER LA GESTIONE DELL'ILLUMINAZIONE IN BASSA TENSIONE</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.6.170.31</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Apparecchi modulari da inserire su quadro elettrico con attacco DIN, forniti e posti in opera.<br>
                                                    Sono compresi: il cablaggio, gli accessori, il montaggio, E’ compreso quanto altro occorre per dare <br>
                                                    il lavoro finito. E’ esclusa la quota di carpenteria. Relè passo-passo 1 contatto 16A
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemsArray.8 }}</td>
                                            <td class="border text-center">27.00</td>
                                            <td class="border text-center">{{ itemsArray.8 * 27 }}</td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.6.170.44</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Apparecchi modulari da inserire su quadro elettrico con attacco DIN, forniti e posti in opera.<br>
                                                    Sono compresi: il cablaggio, gli accessori, il montaggio, E’ compreso quanto altro occorre per dare<br>
                                                    il lavoro finito. E’ esclusa la quota di carpenteria. Trasformatore BTS secondario 24V 40VA
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ item.pianiCasa }}</td>
                                            <td class="border text-center">40</td>
                                            <td class="border text-center">{{ item.pianiCasa * 40 }}</td>
                                        </tr>
                                    {% endif %}
                                    <!-- TOTALI -->
                                    <tr>
                                        <td colspan="3" class="border-0"></td>
                                        <td class="border">SUBTOTALE</td>
                                        <td class="border text-center">
                                            {% set total = 0 %}
                                            {% for row in prices|batch(2) %}
                                                {% for column in row %}
                                                    {% set total = total + column %}
                                                {% endfor %}
                                            {% endfor %}
                                            {{ total }} €
                                        </td>
                                    </tr>
                                    {% if sconto != 0 %}
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">SCONTO {{ item.sconto }}%</td>
                                            <td class="border text-center">
                                                {% set sconto = (total * item.sconto) / 100  %}
                                                {{ sconto }} €
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border"><strong>TOTALE SCONTATO</strong></td>
                                            <td class="border text-center">
                                                <strong>{{ (total - sconto)|round('2') }} €</strong>
                                            </td>
                                        </tr>
                                    {% else %}
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border"><strong>TOTALE</strong></td>
                                            <td class="border text-center">
                                                <strong>{%  set grandtotal = total + vat - sconto %} {{ grandtotal|round('2') }} €</strong>
                                            </td>
                                        </tr>
                                    {% endif %}
                                    {#<tr>
                                        <td colspan="3" class="border-0"></td>
                                        <td class="border">IVA 22%</td>
                                        <td class="border text-center">
                                            {{ vat|round('2') }} €
                                        </td>
                                    </tr>#}




                                    <tr>
                                        <td colspan="5" class="border-0"></td>
                                    </tr>
                                    <!-- INIZIO BLOCCHI AGGIUNTE -->
                                    {% if itemAdv.opt1Enabled == 1 %}
                                        {% set opt1Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">1. PRIMA AGGIUNTA POSSIBILE: predisposizione per ingresso linee ENEL e TELECOM realizzate con cavidotto interrato. Le esatte misure verranno conteggiate alla fine dei lavori appena verranno definite le ubicazioni.</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Predisposizione tubazione esterna interrata per ingresso Linea telefonica. Misura ipotetica da verificare in loco.				</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.5.210.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Tubazione flessibile in polietilene a doppia parete. Diametro esterno 50 mm
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt11Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.5.210.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt11Value * fun.getPriceByCode('15.5.210.1')|number_format(2) }}</td>
                                            {% set opt1Arr = opt1Arr|merge([itemAdv.opt11Value * fun.getPriceByCode('15.5.210.1')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.5.260.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Pozzetto in resina completo di coperchio carrabile 300 x 300 mm.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt12Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.5.260.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt12Value * fun.getPriceByCode('15.5.260.1')|number_format(2) }}</td>
                                            {% set opt1Arr = opt1Arr|merge([itemAdv.opt12Value * fun.getPriceByCode('15.5.260.1')]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Ingresso linea cavi impianto elettrico misura stimata in base alla posizione comunicata del contatore ENEL.</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.5.210.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Tubazione flessibile in polietilene a doppia parete. Diametro esterno 63 mm
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt13Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.5.210.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt13Value * fun.getPriceByCode('15.5.210.2')|number_format(2) }}</td>
                                            {% set opt1Arr = opt1Arr|merge([itemAdv.opt13Value * fun.getPriceByCode('15.5.210.2')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.5.260.3</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Pozzetto in cemento completo di coperchio carrabile 300 x 300 mm.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt14Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.5.260.3')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt14Value * fun.getPriceByCode('15.5.260.3')|number_format(2) }}</td>
                                            {% set opt1Arr = opt1Arr|merge([itemAdv.opt14Value * fun.getPriceByCode('15.5.260.3')]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt1Total = 0 %}
                                                {% for row in opt1Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt1Total = opt1Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt1Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt1Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt1Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt1Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}

                                    {% if itemAdv.opt2Enabled == 1 %}
                                        {% set opt2Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">2. SECONDA AGGIUNTA POSSIBILE: completamento predisposizione per domotica con Relè passo passo. I punti di comando, in questo caso, diventano in bassa tensione,<br> i frutti tutti pulsanti ed i cavi del tipo da utilizzare in impianti domotici. In futuro questa scelta eviterà di dover risfilare l'impianto e cambiare la serie civile.</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Relè Passo Passo ed alimentatori già suddivisi per piano: NECESSARI PER LA GESTIONE DELL'ILLUMINAZIONE IN BASSA TENSIONE	</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.6.170.31</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Apparecchi modulari da inserire su quadro elettrico con attacco DIN, forniti e posti in opera. Sono compresi: il cablaggio, gli accessori, il montaggio, <br>E’ compreso quanto altro occorre per dare il lavoro finito. E’ esclusa la quota di carpenteria. Relè passo-passo 1 contatto 16A
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt21Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.6.170.31')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt21Value * fun.getPriceByCode('15.6.170.31')|number_format(2) }}</td>
                                            {% set opt2Arr = opt2Arr|merge([itemAdv.opt21Value * fun.getPriceByCode('15.6.170.31')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.6.170.44</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Apparecchi modulari da inserire su quadro elettrico con attacco DIN, forniti e posti in opera. Sono compresi: il cablaggio, gli accessori, il montaggio, <br>E’ compreso quanto altro occorre per dare il lavoro finito. E’ esclusa la quota di carpenteria. Trasformatore BTS secondario 24V 40VA
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt22Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.6.170.44')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt22Value * fun.getPriceByCode('15.6.170.44')|number_format(2) }}</td>
                                            {% set opt2Arr = opt2Arr|merge([itemAdv.opt22Value * fun.getPriceByCode('15.6.170.44')]) %}
                                        </tr>

                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt2Total = 0 %}
                                                {% for row in opt2Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt2Total = opt2Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt2Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt2Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt2Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt2Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt3Enabled == 1 %}
                                        {% set opt3Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">3. TERZA AGGIUNTA POSSIBILE: impianto di antenna satellitare, completo di antenna ed accessori, considerato per ogni punto Tv terrestre predisposto.	</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Impianto di ricezione SATELLITARE</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.171.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Impianto di ricezione di segnale TV satellitare costituito da antenna parabolica in alluminio, idonea alla ricezione di segnale TV satellitare,<br>
                                                    completa di palo e di sistemi di fissaggio su tetto, su parete o su copertura piana di qualsiasi natura, di cavi di collegamento fino <br>
                                                    all'impianto di amplificazione. Il tutto posto in opera con tutto quanto occorre per dare il lavoro finito, in copertura a qualsiasi altezza,<br>
                                                    incluse le eventuali opere murarie per il fissaggio ed il ripristino di eventuali parti  di copertura interessate.<br>
                                                    Per antenna parabolica di diametro pari a 80 cm
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt31Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.171.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt31Value * fun.getPriceByCode('15.3.171.1')|number_format(2) }}</td>
                                            {% set opt3Arr = opt3Arr|merge([itemAdv.opt31Value * fun.getPriceByCode('15.6.170.44')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.172.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Sistema di decodificazione di segnale TV SAT, per impianto singolo, costituito da convertitore ad una o più uscite, da posizionare su<br>
                                                    alloggiamento predisposto, inclusi i cavi di collegamento delle colonne montanti, e degli accessori necessari per dare l'opera finita e funzionante.<br>
                                                    Convertitore ad un’uscita
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt32Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.172.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt32Value * fun.getPriceByCode('15.3.172.1')|number_format(2) }}</td>
                                            {% set opt3Arr = opt3Arr|merge([itemAdv.opt32Value * fun.getPriceByCode('15.3.172.1')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.172.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Sistema di decodificazione di segnale TV SAT, per impianto singolo, costituito da convertitore ad una o più uscite, da posizionare su<br>
                                                    alloggiamento predisposto, inclusi i cavi di collegamento delle colonne montanti, e degli accessori necessari per dare l'opera finita e funzionante.<br>
                                                    Convertitore a due uscite
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt33Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.172.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt33Value * fun.getPriceByCode('15.3.172.2')|number_format(2) }}</td>
                                            {% set opt3Arr = opt3Arr|merge([itemAdv.opt33Value * fun.getPriceByCode('15.3.172.2')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.172.3</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Sistema di decodificazione di segnale TV SAT, per impianto singolo, costituito da convertitore ad una o più uscite, da posizionare su<br>
                                                    alloggiamento predisposto, inclusi i cavi di collegamento delle colonne montanti, e degli accessori necessari per dare l'opera finita e funzionante.<br>
                                                    Convertitore a quattro uscite
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt34Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.172.3')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt34Value * fun.getPriceByCode('15.3.172.3')|number_format(2) }}</td>
                                            {% set opt3Arr = opt3Arr|merge([itemAdv.opt34Value * fun.getPriceByCode('15.3.172.3')]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Impianto Satellitare Multiswitch centralizzato per più di 4 punti SATELLITE.	</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.174.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Sistema di amplificazione ed equalizzazione multiswitch per la distribuzione del segnale TV SAT miscelato con segnale TV terrestre, fino a 30 prese,<br>
                                                    completo di convertitore, alimentatore, con ingressi derivati dall'antenna parabolica, inclusi i cavi di collegamento delle colonne montanti e <br>
                                                    degli accessori necessari per dare l'opera finita e funzionante. Sistema base con multiswitch radiale a 4 uscite
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt35Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.174.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt35Value * fun.getPriceByCode('15.3.174.1')|number_format(2) }}</td>
                                            {% set opt3Arr = opt3Arr|merge([itemAdv.opt35Value * fun.getPriceByCode('15.3.174.1')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.172.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Sistema di decodificazione di segnale TV SAT, per impianto singolo, costituito da convertitore ad una o più uscite, da posizionare su<BR>
                                                    alloggiamento predisposto, inclusi i cavi di collegamento delle colonne montanti, e degli accessori necessari per dare l'opera finita e funzionante. <br>
                                                    Convertitore a due uscite
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt36Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.172.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt36Value * fun.getPriceByCode('15.3.172.2')|number_format(2) }}</td>
                                            {% set opt3Arr = opt3Arr|merge([itemAdv.opt36Value * fun.getPriceByCode('15.3.172.2')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.172.3</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Sistema di amplificazione ed equalizzazione multiswitch per la distribuzione del segnale TV SAT miscelato con segnale TV terrestre, fino a 30 prese,<br>
                                                    completo di convertitore, alimentatore, con ingressi derivati dall'antenna parabolica, inclusi i cavi di collegamento delle colonne montanti e <br>
                                                    degli accessori necessari per dare l'opera finita e funzionante. Amplificazione  finale per alimentazione fino a 60 prese
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt37Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.172.3')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt37Value * fun.getPriceByCode('15.3.172.3')|number_format(2) }}</td>
                                            {% set opt3Arr = opt3Arr|merge([itemAdv.opt37Value * fun.getPriceByCode('15.3.172.3')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.110.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per presa di ricezione TV satellitare
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt38Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.110.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt38Value * fun.getPriceByCode('15.3.110.2')|number_format(2) }}</td>
                                            {% set opt3Arr = opt3Arr|merge([itemAdv.opt38Value * fun.getPriceByCode('15.3.110.2')]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Cavo per dorsale Satellite.</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.4.230</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Cavo coassiale per impianti di antenna TV  al metro per linea dorsale
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt39Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.4.230')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt39Value * fun.getPriceByCode('15.4.230')|number_format(2) }}</td>
                                            {% set opt3Arr = opt3Arr|merge([itemAdv.opt39Value * fun.getPriceByCode('15.4.230')]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt3Total = 0 %}
                                                {% for row in opt3Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt3Total = opt3Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt3Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt3Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt3Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt3Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}

                                    {% if itemAdv.opt4Enabled == 1 %}
                                        {% set opt4Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">4. QUARTA AGGIUNTA POSSIBILE: oneri di predisposizione per diffusione sonora per gli ambienti dell'abitazione				</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Predisposizione modulo comandi diffusione sonora.				</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.10</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    PUNTO PRESA DI SERVIZIO in  traccia sono escluse le opere murarie
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt41Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt41Value * fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            {% set opt4Arr = opt4Arr|merge([itemAdv.opt41Value * fun.getPriceByCode('15.3.10')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">N.P.10_PS</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature NON Intonacate o fissaggio con collari<br>
                                                    e/o schiume poliuretaniche su pannelli in cartongesso, fibrocemento, fibrolegno e pannellature similari. Sono esclusi: la chiusura della traccia,<br>
                                                    l’intonaco, la rasatura e la tinteggiatura.  Nella muratura i corrugati vengono solamente fissati all'interno della traccia onde evitare uno spessore<br>
                                                    troppo alto che vada poi a discapito dell'intonaco stesso.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt42Value }}</td>
                                            <td class="border text-center"> 8.00 </td>
                                            <td class="border text-center">{{ itemAdv.opt42Value * 8.00 }}</td>
                                            {% set opt4Arr = opt4Arr|merge([itemAdv.opt42Value * 8.00]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>MAGGIORAZIONE per tracce per PUNTI PRESA di SERVIZIO.</strong></td>
                                        </tr>
                                        {% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 0 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.1</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                        <strong>NON Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt42Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.1')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt42Value * fun.getPriceByCode('15.3.20.1'))|number_format(2) }}</td>
                                                {% set opt4Arr = opt4Arr|merge([itemAdv.opt42Value * fun.getPriceByCode('15.3.20.1')]) %}
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurarieIntonaco == 1 and item.opereMurariePietra == 0 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.2</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                        <strong>Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt42Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.2')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt42Value * fun.getPriceByCode('15.3.20.2'))|number_format(2) }}</td>
                                                {% set opt4Arr = opt4Arr|merge([itemAdv.opt42Value * fun.getPriceByCode('15.3.20.2')]) %}
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurariePietra == 1 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.3</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature in <br>
                                                        <strong>mattone pieno, calcestruzzo pietra.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt42Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.3')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt42Value * fun.getPriceByCode('15.3.20.3'))|number_format(2) }}</td>
                                                {% set opt4Arr = opt4Arr|merge([itemAdv.opt42Value * fun.getPriceByCode('15.3.20.3')]) %}
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt4Total = 0 %}
                                                {% for row in opt4Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt4Total = opt4Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt4Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt4Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt4Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt4Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}

                                    {% if itemAdv.opt5Enabled == 1 %}
                                        {% set opt5Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">5. QUINTA AGGIUNTA POSSIBILE: oneri di predisposizione per impianto sorround soggiorno</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Predisposizione modulo surround salone.</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.10</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    PUNTO PRESA DI SERVIZIO in  traccia sono escluse le opere murarie
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt51Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt51Value * fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            {% set opt5Arr = opt5Arr|merge([itemAdv.opt51Value * fun.getPriceByCode('15.3.10')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">N.P.10_PS</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature NON Intonacate o fissaggio con collari<br>
                                                    e/o schiume poliuretaniche su pannelli in cartongesso, fibrocemento, fibrolegno e pannellature similari. Sono esclusi: la chiusura della traccia,<br>
                                                    l’intonaco, la rasatura e la tinteggiatura.  Nella muratura i corrugati vengono solamente fissati all'interno della traccia onde evitare uno spessore<br>
                                                    troppo alto che vada poi a discapito dell'intonaco stesso.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt52Value }}</td>
                                            <td class="border text-center"> 8.00 </td>
                                            <td class="border text-center">{{ itemAdv.opt52Value * 8 }}</td>
                                            {% set opt5Arr = opt5Arr|merge([itemAdv.opt52Value * 8.00]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>MAGGIORAZIONE per tracce per PUNTI PRESA di SERVIZIO.				</strong></td>
                                        </tr>
                                        {% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 0 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.1</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                        <strong>NON Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt52Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.1')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt52Value * fun.getPriceByCode('15.3.20.1'))|number_format(2) }}</td>
                                                {% set opt5Arr = opt5Arr|merge([itemAdv.opt52Value * fun.getPriceByCode('15.3.20.1')]) %}
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurarieIntonaco == 1 and item.opereMurariePietra == 0 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.2</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                        <strong>Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt52Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.2')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt52Value * fun.getPriceByCode('15.3.20.2'))|number_format(2) }}</td>
                                                {% set opt5Arr = opt5Arr|merge([itemAdv.opt52Value * fun.getPriceByCode('15.3.20.2')]) %}
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurariePietra == 1 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.3</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature in <br>
                                                        <strong>mattone pieno, calcestruzzo pietra.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt52Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.3')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt52Value * fun.getPriceByCode('15.3.20.3'))|number_format(2) }}</td>
                                                {% set opt5Arr = opt5Arr|merge([itemAdv.opt52Value * fun.getPriceByCode('15.3.20.3')]) %}
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt5Total = 0 %}
                                                {% for row in opt5Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt5Total = opt5Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt5Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt5Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt5Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt5Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt6Enabled == 1 %}
                                        {% set opt6Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">6. SESTA AGGIUNTA POSSIBILE: connettorizzazione dei punti di trasmissione dati predisposti e conteggiati nella proposta C.</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Connettorizzazione punti trasmissione dati.</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.220.6</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per <strong>connettore tipo RJ45</strong> con cavo UTP cat. 6
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt61Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.220.6')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt61Value * fun.getPriceByCode('15.3.220.6')|number_format(2) }}</td>
                                            {% set opt6Arr = opt6Arr|merge([itemAdv.opt61Value * fun.getPriceByCode('15.3.220.6')]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt6Total = 0 %}
                                                {% for row in opt6Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt6Total = opt6Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt6Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt6Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt6Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt6Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt7Enabled == 1 %}
                                        {% set opt7Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">7. SETTIMA AGGIUNTA POSSIBILE: oneri di predisposizione per videosorveglianza esterna.</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Predisposizione videosorveglianza</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.10</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    PUNTO PRESA DI SERVIZIO in  traccia sono escluse le opere murarie
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt71Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt71Value * fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            {% set opt7Arr = opt7Arr|merge([itemAdv.opt71Value * fun.getPriceByCode('15.3.10')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">N.P.10_PS</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature NON Intonacate o fissaggio con collari<br>
                                                    e/o schiume poliuretaniche su pannelli in cartongesso, fibrocemento, fibrolegno e pannellature similari. Sono esclusi: la chiusura della traccia,<br>
                                                    l’intonaco, la rasatura e la tinteggiatura.  Nella muratura i corrugati vengono solamente fissati all'interno della traccia onde evitare uno spessore<br>
                                                    troppo alto che vada poi a discapito dell'intonaco stesso.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt72Value }}</td>
                                            <td class="border text-center"> 8.00 </td>
                                            <td class="border text-center">{{ itemAdv.opt72Value * 8 }}</td>
                                            {% set opt7Arr = opt7Arr|merge([itemAdv.opt72Value * 8.00]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Predisposizione videosorveglianza</strong></td>
                                        </tr>
                                        {% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 0 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.1</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                        <strong>NON Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt72Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.1')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt72Value * fun.getPriceByCode('15.3.20.1'))|number_format(2) }}</td>
                                                {% set opt7Arr = opt7Arr|merge([itemAdv.opt72Value * fun.getPriceByCode('15.3.20.1')]) %}
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurarieIntonaco == 1 and item.opereMurariePietra == 0 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.2</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                        <strong>Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt42Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.2')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt42Value * fun.getPriceByCode('15.3.20.2'))|number_format(2) }}</td>
                                                {% set opt7Arr = opt7Arr|merge([itemAdv.opt42Value * fun.getPriceByCode('15.3.20.2')]) %}
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurariePietra == 1 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.3</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature in <br>
                                                        <strong>mattone pieno, calcestruzzo pietra.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt42Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.3')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt42Value * fun.getPriceByCode('15.3.20.3'))|number_format(2) }}</td>
                                                {% set opt4Arr = opt4Arr|merge([itemAdv.opt42Value * fun.getPriceByCode('15.3.20.3')]) %}
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt7Total = 0 %}
                                                {% for row in opt7Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt7Total = opt7Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt7Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt7Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt7Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt7Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt8Enabled == 1 %}
                                        {% set opt8Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">8. OTTAVA AGGIUNTA POSSIBILE: oneri di predisposizione per sistema di rilevazione allarme.	</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Predisposizione videosorveglianza</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.10</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    PUNTO PRESA DI SERVIZIO in  traccia sono escluse le opere murarie
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt81Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt81Value * fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            {% set opt8Arr = opt8Arr|merge([itemAdv.opt81Value * fun.getPriceByCode('15.3.10')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">N.P.10_PS</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature NON Intonacate o fissaggio con collari<br>
                                                    e/o schiume poliuretaniche su pannelli in cartongesso, fibrocemento, fibrolegno e pannellature similari. Sono esclusi: la chiusura della traccia,<br>
                                                    l’intonaco, la rasatura e la tinteggiatura.  Nella muratura i corrugati vengono solamente fissati all'interno della traccia onde evitare uno spessore<br>
                                                    troppo alto che vada poi a discapito dell'intonaco stesso.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt82Value }}</td>
                                            <td class="border text-center"> 8.00 </td>
                                            <td class="border text-center">{{ itemAdv.opt82Value * 8 }}</td>
                                            {% set opt8Arr = opt8Arr|merge([itemAdv.opt81Value * 8.00]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>MAGGIORAZIONE per tracce per PUNTI PRESA di SERVIZIO.</strong></td>
                                        </tr>
                                        {% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 0 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.1</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                        <strong>NON Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt83Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.1')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt83Value * fun.getPriceByCode('15.3.20.1'))|number_format(2) }}</td>
                                                {% set opt8Arr = opt8Arr|merge([itemAdv.opt83Value * fun.getPriceByCode('15.3.20.1')]) %}
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurarieIntonaco == 1 and item.opereMurariePietra == 0 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.2</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                        <strong>Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt83Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.2')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt83Value * fun.getPriceByCode('15.3.20.2'))|number_format(2) }}</td>
                                                {% set opt8Arr = opt8Arr|merge([itemAdv.opt83Value * fun.getPriceByCode('15.3.20.2')]) %}
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurariePietra == 1 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.3</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature in <br>
                                                        <strong>mattone pieno, calcestruzzo pietra.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt83Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.3')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt83Value * fun.getPriceByCode('15.3.20.3'))|number_format(2) }}</td>
                                                {% set opt8Arr = opt4Arr|merge([itemAdv.opt83Value * fun.getPriceByCode('15.3.20.3')]) %}
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt8Total = 0 %}
                                                {% for row in opt8Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt8Total = opt8Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt8Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt8Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt8Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt8Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt9Enabled == 1 %}
                                        {% set opt9Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">9. NONA AGGIUNTA POSSIBILE: oneri di predisposizione per impianto di rilevazione fumi. 	</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Predisposizione rilevazione fumi	</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.10</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    PUNTO PRESA DI SERVIZIO in  traccia sono escluse le opere murarie
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt91Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt91Value * fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            {% set opt9Arr = opt9Arr|merge([itemAdv.opt91Value * fun.getPriceByCode('15.3.10')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">N.P.10_PS</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature NON Intonacate o fissaggio con collari<br>
                                                    e/o schiume poliuretaniche su pannelli in cartongesso, fibrocemento, fibrolegno e pannellature similari. Sono esclusi: la chiusura della traccia,<br>
                                                    l’intonaco, la rasatura e la tinteggiatura.  Nella muratura i corrugati vengono solamente fissati all'interno della traccia onde evitare uno spessore<br>
                                                    troppo alto che vada poi a discapito dell'intonaco stesso.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt92Value }}</td>
                                            <td class="border text-center"> 8.00 </td>
                                            <td class="border text-center">{{ itemAdv.opt92Value * 8 }}</td>
                                            {% set opt9Arr = opt9Arr|merge([itemAdv.opt91Value * 8.00]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>MAGGIORAZIONE per tracce per PUNTI PRESA di SERVIZIO.	</strong></td>
                                        </tr>
                                        {% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 0 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.1</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                        <strong>NON Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt93Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.1')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt93Value * fun.getPriceByCode('15.3.20.1'))|number_format(2) }}</td>
                                                {% set opt9Arr = opt9Arr|merge([itemAdv.opt93Value * fun.getPriceByCode('15.3.20.1')]) %}
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurarieIntonaco == 1 and item.opereMurariePietra == 0 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.2</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                        <strong>Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt93Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.2')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt93Value * fun.getPriceByCode('15.3.20.2'))|number_format(2) }}</td>
                                                {% set opt9Arr = opt9Arr|merge([itemAdv.opt93Value * fun.getPriceByCode('15.3.20.2')]) %}
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurariePietra == 1 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.3</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature in <br>
                                                        <strong>mattone pieno, calcestruzzo pietra.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt93Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.3')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt93Value * fun.getPriceByCode('15.3.20.3'))|number_format(2) }}</td>
                                                {% set opt9Arr = opt9Arr|merge([itemAdv.opt93Value * fun.getPriceByCode('15.3.20.3')]) %}
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt9Total = 0 %}
                                                {% for row in opt9Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt9Total = opt9Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt9Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt9Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt9Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt9Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt10Enabled == 1 %}
                                        {% set opt10Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">10. DECIMA AGGIUNTA POSSIBILE: predisposizioni per rilevatori sonde allagamento e gas.</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Predisposizione sonde allagamento</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.10</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    PUNTO PRESA DI SERVIZIO in  traccia sono escluse le opere murarie
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt101Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt101Value * fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            {% set opt10Arr = opt10Arr|merge([itemAdv.opt101Value * fun.getPriceByCode('15.3.10')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">N.P.10_PS</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature NON Intonacate o fissaggio con collari<br>
                                                    e/o schiume poliuretaniche su pannelli in cartongesso, fibrocemento, fibrolegno e pannellature similari. Sono esclusi: la chiusura della traccia,<br>
                                                    l’intonaco, la rasatura e la tinteggiatura.  Nella muratura i corrugati vengono solamente fissati all'interno della traccia onde evitare uno spessore<br>
                                                    troppo alto che vada poi a discapito dell'intonaco stesso.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt102Value }}</td>
                                            <td class="border text-center"> 8.00 </td>
                                            <td class="border text-center">{{ itemAdv.opt102Value * 8.00 }}</td>
                                            {% set opt10Arr = opt10Arr|merge([itemAdv.opt102Value * 8.00]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Predisposizione elettrovalvola ACQUA</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.10</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    PUNTO PRESA DI SERVIZIO in  traccia sono escluse le opere murarie
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt103Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt103Value * fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            {% set opt10Arr = opt10Arr|merge([itemAdv.opt103Value * fun.getPriceByCode('15.3.10')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">N.P.10_PS</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature NON Intonacate o fissaggio con collari<br>
                                                    e/o schiume poliuretaniche su pannelli in cartongesso, fibrocemento, fibrolegno e pannellature similari. Sono esclusi: la chiusura della traccia,<br>
                                                    l’intonaco, la rasatura e la tinteggiatura.  Nella muratura i corrugati vengono solamente fissati all'interno della traccia onde evitare uno spessore<br>
                                                    troppo alto che vada poi a discapito dell'intonaco stesso.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt104Value }}</td>
                                            <td class="border text-center"> 8.00 </td>
                                            <td class="border text-center">{{ itemAdv.opt104Value * 8.00 }}</td>
                                            {% set opt10Arr = opt10Arr|merge([itemAdv.opt104Value * 8.00]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Predisposizione rilevatori gas</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.10</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    PUNTO PRESA DI SERVIZIO in  traccia sono escluse le opere murarie
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt105Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt105Value * fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            {% set opt10Arr = opt10Arr|merge([itemAdv.opt105Value * fun.getPriceByCode('15.3.10')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">N.P.10_PS</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature NON Intonacate o fissaggio con collari<br>
                                                    e/o schiume poliuretaniche su pannelli in cartongesso, fibrocemento, fibrolegno e pannellature similari. Sono esclusi: la chiusura della traccia,<br>
                                                    l’intonaco, la rasatura e la tinteggiatura.  Nella muratura i corrugati vengono solamente fissati all'interno della traccia onde evitare uno spessore<br>
                                                    troppo alto che vada poi a discapito dell'intonaco stesso.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt106Value }}</td>
                                            <td class="border text-center"> 8.00 </td>
                                            <td class="border text-center">{{ itemAdv.opt106Value * 8.00 }}</td>
                                            {% set opt10Arr = opt10Arr|merge([itemAdv.opt101Value * 8.00]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Predisposizione elettrovalvola GAS.</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.10</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    PUNTO PRESA DI SERVIZIO in  traccia sono escluse le opere murarie
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt107Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt107Value * fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            {% set opt10Arr = opt10Arr|merge([itemAdv.opt107Value * fun.getPriceByCode('15.3.10')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">N.P.10_PS</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature NON Intonacate o fissaggio con collari<br>
                                                    e/o schiume poliuretaniche su pannelli in cartongesso, fibrocemento, fibrolegno e pannellature similari. Sono esclusi: la chiusura della traccia,<br>
                                                    l’intonaco, la rasatura e la tinteggiatura.  Nella muratura i corrugati vengono solamente fissati all'interno della traccia onde evitare uno spessore<br>
                                                    troppo alto che vada poi a discapito dell'intonaco stesso.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt108Value }}</td>
                                            <td class="border text-center"> 8.00 </td>
                                            <td class="border text-center">{{ itemAdv.opt108Value * 8 }}</td>
                                            {% set opt10Arr = opt10Arr|merge([itemAdv.opt108Value * 8.00]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>MAGGIORAZIONE per tracce per PUNTI PRESA di SERVIZIO.				</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.20.3</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Maggiorazione per opere murarie su muratura in mattone pieno, calcestruzzo o pietra.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt109Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.20.3')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt109Value * fun.getPriceByCode('15.3.20.3')|number_format(2) }}</td>
                                            {% set opt10Arr = opt10Arr|merge([itemAdv.opt109Value * fun.getPriceByCode('15.3.20.3')]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt10Total = 0 %}
                                                {% for row in opt10Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt10Total = opt10Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt10Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt10Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt10Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt10Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt11Enabled == 1 %}
                                        {% set opt11Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">11. UNDICESIMA AGGIUNTA POSSIBILE: oneri di predisposizione per motorizzazione di tapparelle, persiane, zanzariere, tende e/o oscuranti.	</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Predisposizione motori</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.10</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    PUNTO PRESA DI SERVIZIO in  traccia sono escluse le opere murarie
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt111Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt111Value * fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            {% set opt11Arr = opt11Arr|merge([itemAdv.opt111Value * fun.getPriceByCode('15.3.10')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">N.P.10_PS</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature NON Intonacate o fissaggio con collari<br>
                                                    e/o schiume poliuretaniche su pannelli in cartongesso, fibrocemento, fibrolegno e pannellature similari. Sono esclusi: la chiusura della traccia,<br>
                                                    l’intonaco, la rasatura e la tinteggiatura.  Nella muratura i corrugati vengono solamente fissati all'interno della traccia onde evitare uno spessore<br>
                                                    troppo alto che vada poi a discapito dell'intonaco stesso.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt112Value }}</td>
                                            <td class="border text-center"> 8.00 </td>
                                            <td class="border text-center">{{ itemAdv.opt112Value * 8.00 }}</td>
                                            {% set opt11Arr = opt11Arr|merge([itemAdv.opt112Value * 8.00]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.2.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Canalizzazione per P.to Presa in traccia per distanza non superiori a 60 mt. Sono esclusi i conduttori e le opere murarie.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt113Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt113Value * fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            {% set opt11Arr = opt11Arr|merge([itemAdv.opt113Value * fun.getPriceByCode('15.3.10')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">N.P.10_PS</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa per opere murarie su murature NON Intonacate o fissaggio con collari<br>
                                                    e/o schiume poliuretaniche su pannelli in cartongesso, fibrocemento, fibrolegno e pannellature similari. Sono esclusi: <br>
                                                    la chiusura della traccia, l’intonaco, la rasatura e la tinteggiatura.  Nella muratura i corrugati vengono solamente fissati<br>
                                                    all'interno della traccia onde evitare uno spessore troppo alto che vada poi a discapito dell'intonaco stesso.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt114Value }}</td>
                                            <td class="border text-center"> 5.70 </td>
                                            <td class="border text-center">{{ itemAdv.opt114Value * 5.70 }}</td>
                                            {% set opt11Arr = opt11Arr|merge([itemAdv.opt114Value * 5.70]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>MAGGIORAZIONE per tracce per PUNTI PRESA di SERVIZIO.	</strong></td>
                                        </tr>
                                        {% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 0 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.1</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                        <strong>NON Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt115Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.1')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt115Value * fun.getPriceByCode('15.3.20.1'))|number_format(2) }}</td>
                                                {% set opt11Arr = opt11Arr|merge([itemAdv.opt115Value * fun.getPriceByCode('15.3.20.1')]) %}
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurarieIntonaco == 1 and item.opereMurariePietra == 0 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.2</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                        <strong>Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt115Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.2')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt115Value * fun.getPriceByCode('15.3.20.2'))|number_format(2) }}</td>
                                                {% set opt11Arr = opt11Arr|merge([itemAdv.opt115Value * fun.getPriceByCode('15.3.20.2')]) %}
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurariePietra == 1 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.3</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature in <br>
                                                        <strong>mattone pieno, calcestruzzo pietra.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt115Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.3')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt115Value * fun.getPriceByCode('15.3.20.3'))|number_format(2) }}</td>
                                                {% set opt11Arr = opt11Arr|merge([itemAdv.opt115Value * fun.getPriceByCode('15.3.20.3')]) %}
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt11Total = 0 %}
                                                {% for row in opt11Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt11Total = opt11Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt11Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt11Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt11Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt11Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt12Enabled == 1 %}
                                        {% set opt12Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">12. DODICESIMA AGGIUNTA POSSIBILE: oneri per passaggio cavi e collegamento di motorizzazioni per tapparelle, persiane, zanzariere, tende e/o oscuranti.</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Predisposizione motori</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.80.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per impianto di comando di motori monofasi o in c.c. di piccola potenza (serrande meccanizzate etc.).<br>
                                                    Con pulsante doppio senza chiave.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt121Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.80.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt121Value * fun.getPriceByCode('15.3.80.2')|number_format(2) }}</td>
                                            {% set opt12Arr = opt12Arr|merge([itemAdv.opt121Value * fun.getPriceByCode('15.3.80.2')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.2.42</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    COMPENSO AGGIUNTIVO AL PUNTO ALLACCIO ELETTRICO PER COLLEGAMENTO AD APPARECCHIATURA DI CONTROLLO E/O COMANDO. Per collegamento motore tenda
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt122Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.2.42')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt122Value * fun.getPriceByCode('15.2.42')|number_format(2) }}</td>
                                            {% set opt12Arr = opt12Arr|merge([itemAdv.opt122Value * fun.getPriceByCode('15.2.42')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.2.21.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    PUNTO ALLACCIO PER PRESA MONOFASE O TRIFASE SU CANALIZZAZIONE IN TRACCIA O SU TUBAZIONE IN VISTA CON CAVO NON PROPAGANTE L'INCENDIO.<br>
                                                    Per allaccio monofase con carico max 16A
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt123Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.2.21.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt123Value * fun.getPriceByCode('15.2.21.1')|number_format(2) }}</td>
                                            {% set opt12Arr = opt12Arr|merge([itemAdv.opt123Value * fun.getPriceByCode('15.2.21.1')]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt12Total = 0 %}
                                                {% for row in opt12Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt12Total = opt12Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt12Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt12Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt12Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt12Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt13Enabled == 1 %}
                                        {% set opt13Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">13. TREDICESIMA AGGIUNTA POSSIBILE: impianto citofonico (solo audio)				</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Impianto Citofonico</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.52.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per impianto citofonico o videocitofonico, sistema a 2 fili. Per impianto base fino a 26 interni.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt131Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.52.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt131Value * fun.getPriceByCode('15.3.52.1')|number_format(2) }}</td>
                                            {% set opt13Arr = opt13Arr|merge([itemAdv.opt131Value * fun.getPriceByCode('15.3.52.1')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.52.3</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per impianto citofonico  per ogni posto audio interno
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt132Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.52.3')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt132Value * fun.getPriceByCode('15.3.52.3')|number_format(2) }}</td>
                                            {% set opt13Arr = opt13Arr|merge([itemAdv.opt132Value * fun.getPriceByCode('15.3.52.3')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.52.4</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per audio interno intercomunicante.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt133Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.52.4')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt133Value * fun.getPriceByCode('15.3.52.4')|number_format(2) }}</td>
                                            {% set opt13Arr = opt13Arr|merge([itemAdv.opt133Value * fun.getPriceByCode('15.3.52.4')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.52.5</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per ogni posto esterno audio (PORTER) fino a 2 chiamate.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt134Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.52.5')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt134Value * fun.getPriceByCode('15.3.52.5')|number_format(2) }}</td>
                                            {% set opt13Arr = opt13Arr|merge([itemAdv.opt134Value * fun.getPriceByCode('15.3.52.5')]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Trasporto e imballo	</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">TI</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Trasporto e imballo
                                                </small>
                                            </td>
                                            <td class="border text-center">1</td>
                                            <td class="border text-center">OMAGGIO</td>
                                            <td class="border text-center">OMAGGIO</td>
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt13Total = 0 %}
                                                {% for row in opt13Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt13Total = opt13Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt13Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt13Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt13Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt13Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt14Enabled == 1 %}
                                        {% set opt14Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">14. QUATTORDICESIMA AGGIUNTA POSSIBILE: impianto videocitofonico a colori in esecuzione a muro</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Impianto Videocitofonico	</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.52.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per impianto citofonico o videocitofonico, sistema a 2 fili. Per impianto base fino a 26 interni.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt141Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.52.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt141Value * fun.getPriceByCode('15.3.52.1')|number_format(2) }}</td>
                                            {% set opt14Arr = opt14Arr|merge([itemAdv.opt141Value * fun.getPriceByCode('15.3.52.1')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.52.3</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per impianto citofonico  per ogni posto audio interno
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt142Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.52.3')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt142Value * fun.getPriceByCode('15.3.52.3')|number_format(2) }}</td>
                                            {% set opt14Arr = opt14Arr|merge([itemAdv.opt142Value * fun.getPriceByCode('15.3.52.3')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.52.4</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per audio interno intercomunicante.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt143Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.52.4')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt143Value * fun.getPriceByCode('15.3.52.4')|number_format(2) }}</td>
                                            {% set opt14Arr = opt14Arr|merge([itemAdv.opt143Value * fun.getPriceByCode('15.3.52.4')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.52.5</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento al punto presa di servizio per ogni posto esterno audio (PORTER) fino a 2 chiamate.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt144Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.52.5')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt144Value * fun.getPriceByCode('15.3.52.5')|number_format(2) }}</td>
                                            {% set opt14Arr = opt14Arr|merge([itemAdv.opt144Value * fun.getPriceByCode('15.3.52.5')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.4.236</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    LINEA IN CAVO LONWORKS PER CONNESSIONI DI RETE TIPO AWG22.  Linea in cavo LonWorks per connessioni di rete tipo AWG22<br>
                                                    a due conduttori (una coppia: 2x0,60mm)Twistato e non schermato, con isolamento 1 kV
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt145Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.4.236')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt145Value * fun.getPriceByCode('15.4.236')|number_format(2) }}</td>
                                            {% set opt14Arr = opt14Arr|merge([itemAdv.opt145Value * fun.getPriceByCode('15.4.236')]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Trasporto e imballo	</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">TI</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Trasporto e imballo
                                                </small>
                                            </td>
                                            <td class="border text-center">1</td>
                                            <td class="border text-center">OMAGGIO</td>
                                            <td class="border text-center">OMAGGIO</td>
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt14Total = 0 %}
                                                {% for row in opt14Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt14Total = opt14Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt14Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt14Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt14Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt14Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt15Enabled == 1 %}
                                        {% set opt15Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">15. QUINDICESIMA AGGIUNTA POSSIBILE: predisposizioni per rilevatori  luminosità.	</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Predisposizione rilevatori luminosità</strong></td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.10</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    PUNTO PRESA DI SERVIZIO in  traccia sono escluse le opere murarie
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt151Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt151Value * fun.getPriceByCode('15.3.10')|number_format(2) }}</td>
                                            {% set opt15Arr = opt15Arr|merge([itemAdv.opt151Value * fun.getPriceByCode('15.3.10')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">N.P.10_PS</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature NON Intonacate o fissaggio con collari<br>
                                                    e/o schiume poliuretaniche su pannelli in cartongesso, fibrocemento, fibrolegno e pannellature similari. Sono esclusi: la chiusura della traccia,<br>
                                                    l’intonaco, la rasatura e la tinteggiatura.  Nella muratura i corrugati vengono solamente fissati all'interno della traccia onde evitare uno spessore<br>
                                                    troppo alto che vada poi a discapito dell'intonaco stesso.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt152Value }}</td>
                                            <td class="border text-center"> 8.00 </td>
                                            <td class="border text-center">{{ itemAdv.opt152Value * 8.00 }}</td>
                                            {% set opt15Arr = opt15Arr|merge([itemAdv.opt152Value * 8.00 ]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>MAGGIORAZIONE per tracce per PUNTI PRESA di SERVIZIO.	</strong></td>
                                        </tr>
                                        {% if item.opereMurarie == 1 and item.opereMurarieIntonaco == 0 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.1</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                        <strong>NON Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt153Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.1')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt153Value * fun.getPriceByCode('15.3.20.1'))|number_format(2) }}</td>
                                                {% set opt15Arr = opt15Arr|merge([itemAdv.opt153Value * fun.getPriceByCode('15.3.20.1')]) %}
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurarieIntonaco == 1 and item.opereMurariePietra == 0 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.2</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature <br>
                                                        <strong>Intonacate.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt153Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.2')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt153Value * fun.getPriceByCode('15.3.20.2'))|number_format(2) }}</td>
                                                {% set opt15Arr = opt15Arr|merge([itemAdv.opt153Value * fun.getPriceByCode('15.3.20.2')]) %}
                                            </tr>
                                        {% endif %}
                                        {% if item.opereMurariePietra == 1 %}
                                            <tr>
                                                <td class="border text-center">15.3.20.3</td>
                                                <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                    <small>
                                                        Incremento alla canalizzazione per p.to presa di servizio per opere murarie su murature in <br>
                                                        <strong>mattone pieno, calcestruzzo pietra.</strong> Sono esclusi l'intonaco, la rasatura e la tinteggiatura
                                                    </small>
                                                </td>
                                                <td class="border text-center">{{ itemAdv.opt153Value }}</td>
                                                <td class="border text-center">{{ fun.getPriceByCode('15.3.20.3')|number_format(2) }}</td>
                                                <td class="border text-center">{{ (itemAdv.opt153Value * fun.getPriceByCode('15.3.20.3'))|number_format(2) }}</td>
                                                {% set opt15Arr = opt15Arr|merge([itemAdv.opt153Value * fun.getPriceByCode('15.3.20.3')]) %}
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt15Total = 0 %}
                                                {% for row in opt15Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt15Total = opt15Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt15Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt15Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt15Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt15Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt16Enabled == 1 %}
                                        {% set opt16Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">16. SEDICESIMA AGGIUNTA POSSIBILE: esempio di soluzione per la  predisposizione di <BR>
                                                illuminazione esterna con 20 punti luce. Le esatte misure verranno conteggiate alla fine dei lavori				</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Predisposizione cavidotti esterni Lato anteriore e posteriore per illuminazione esterna pozzetti ogni 10mt circa <br>
                                                    per rendere più facile la predisposizione dell'illuminazione definitiva. Misura ipotetica da verificare in loco.				</strong>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.5.210.5</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Tubazione flessibile in polietilene a doppia parete. Diametro esterno 110 mm
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt161Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.5.210.5')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt161Value * fun.getPriceByCode('15.5.210.5')|number_format(2) }}</td>
                                            {% set opt16Arr = opt16Arr|merge([itemAdv.opt161Value * fun.getPriceByCode('15.5.210.5')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.5.260.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Pozzetto in resina completo di coperchio carrabile 300 x 300 mm.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt162Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.5.260.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt162Value * fun.getPriceByCode('15.5.260.1')|number_format(2) }}</td>
                                            {% set opt16Arr = opt16Arr|merge([itemAdv.opt162Value * fun.getPriceByCode('15.5.260.1')]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.1.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Canalizzazione per P.to luce in traccia per distanza non superiori a 60 mt. Sono esclusi i conduttori e le opere murarie.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt163Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.1.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt163Value * fun.getPriceByCode('15.1.1')|number_format(2) }}</td>
                                            {% set opt16Arr = opt16Arr|merge([itemAdv.opt163Value * fun.getPriceByCode('15.1.1')]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt16Total = 0 %}
                                                {% for row in opt16Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt16Total = opt16Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt16Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt16Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt16Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt16Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt17Enabled == 1 %}
                                        {% set opt17Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">17. DICIASSETTESIMA AGGIUNTA POSSIBILE: predisposizione per impianto fotovoltaico</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Tubazione per predisposizione impianto fotovoltaico: due tubazioni dai pannelli al locale tecnico</strong>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.5.10.4</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Tubazione flessibile in PVC autoestinguente serie pesante IMQ. Diametro esterno mm 32. Al metro.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt171Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.5.10.4')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt171Value * fun.getPriceByCode('15.5.10.4')|number_format(2) }}</td>
                                            {% set opt17Arr = opt17Arr|merge([itemAdv.opt171Value * fun.getPriceByCode('15.5.10.4')|number_format(2)]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt17Total = 0 %}
                                                {% for row in opt17Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt17Total = opt17Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt17Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt17Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt17Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt17Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt18Enabled == 1 %}
                                        {% set opt18Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">18. DICIOTTESIMA AGGIUNTA POSSIBILE: punti presa di servizio per le sonde di<br>
                                                temperatura di ogni ambiente, tranne le due conteggiate nella proposta A.</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Allaccio TERMOSTATI (l'esatta quantità e in funzione del progetto termoidraulico, appena ci verrà consegnato aggiorneremo la ns offerta).				</strong>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">13.21.10</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Collegamento elettrico di regolazione di impianti tecnologici, eseguito sottotraccia per alimentare dal quadro elettrico<br>
                                                    di centrale o di zona una apparecchiatura di regolazione (termostato, umidostato, flussostato, sonda di temperatura, pressostato, ecc.)
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt181Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('13.21.10')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt181Value * fun.getPriceByCode('13.21.10')|number_format(2) }}</td>
                                            {% set opt18Arr = opt18Arr|merge([itemAdv.opt181Value * fun.getPriceByCode('13.21.10')|number_format(2)]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>MAGGIORAZIONE per tracce per PUNTI PRESA di SERVIZIO.</strong>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.20.3</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Maggiorazione per opere murarie su muratura in mattone pieno, calcestruzzo o pietra.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt181Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.20.3')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt181Value * fun.getPriceByCode('15.3.20.3')|number_format(2) }}</td>
                                            {% set opt18Arr = opt18Arr|merge([itemAdv.opt181Value * fun.getPriceByCode('15.3.20.3')]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt18Total = 0 %}
                                                {% for row in opt18Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt18Total = opt18Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt18Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt18Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt18Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt18Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt19Enabled == 1 %}
                                        {% set opt19Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">19. DICIANNOVESIMA AGGIUNTA POSSIBILE: cronotermostati ambiente.</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Cronotermostato	</strong>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">13.19.20.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Cronotermostato Ambiente.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt191Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('13.19.20.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt191Value * fun.getPriceByCode('13.19.20.1')|number_format(2) }}</td>
                                            {% set opt19Arr = opt19Arr|merge([itemAdv.opt191Value * fun.getPriceByCode('13.19.20.1')|number_format(2)]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt19Total = 0 %}
                                                {% for row in opt19Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt19Total = opt19Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt19Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt19Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt19Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt19Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt21Enabled == 1 %}
                                        {% set opt21Arr = [] %}
                                        <tr>
                                            <td colspan="5" class="border table-light">20. VENTESIMA AGGIUNTA POSSIBILE: ARMADIO RACK.</td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Armadio Rack</strong>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.550.5</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Armadio rack modulare da 19” per impianti di cablaggio strutturato o consolle, realizzato in acciaio verniciato, <br>
                                                    completo di porta trasparente provvista di serratura, aperture di areazione superiori ed inferiori. <br>
                                                    Fornito e posto in opera completo di onere necessario per dare l’opera finita, ed a perfetta regola d’arte.<br>
                                                    Fino a 24 unità con profondità 600mm in esecuzione da terra completo di zoccolo.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt211Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.550.5')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt211Value * fun.getPriceByCode('15.3.550.5')|number_format(2) }}</td>
                                            {% set opt21Arr = opt21Arr|merge([itemAdv.opt211Value * fun.getPriceByCode('15.3.550.5')|number_format(2)]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">NP.4</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Kit Ruote per armadi a pavimento. Fornito e posto in opera
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt212Value }}</td>
                                            <td class="border text-center">97.50</td>
                                            <td class="border text-center">{{ itemAdv.opt212Value * 97.50 }}</td>
                                            {% set opt21Arr = opt21Arr|merge([itemAdv.opt212Value * 97.50 ]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Prese di Alimentazione</strong>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.560.1</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Pannello di alimentazione con min. 5 prese UNEL 16A+T, interruttore bipolare e spia di presenza rete.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt213Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.560.1')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt213Value * fun.getPriceByCode('15.3.560.1')|number_format(2) }}</td>
                                            {% set opt21Arr = opt21Arr|merge([itemAdv.opt213Value * fun.getPriceByCode('15.3.560.1')|number_format(2)]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Patch Panel</strong>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.240.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    PATCH PANEL PER ARMADI DI CABLAGGIO STRUTTURATO.  Patch panel per armadi di cablaggio strutturato, <br>
                                                    completo di connettori RJ45 UTP o S-FTP a 8 pin con connessione ad incisione di isolante tipo 110, <br>
                                                    su morsettiera centrale per cavo 22-26AWG, o mediante connettori singoli, completo di barra guidacavi,<br>
                                                    esclusa la quota per attestazione delle linee in ingresso ed uscita. Fornito e posto in opera a perfetta regola d’arte.  <br>
                                                    Fino a 16 porte non schermato con connettori RJ45 per cavo UTP cat. 6.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt214Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.240.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt214Value * fun.getPriceByCode('15.3.240.2')|number_format(2) }}</td>
                                            {% set opt21Arr = opt21Arr|merge([itemAdv.opt214Value * fun.getPriceByCode('15.3.240.2')|number_format(2)]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.240.5</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    PATCH PANEL PER ARMADI DI CABLAGGIO STRUTTURATO.  Patch panel per armadi di cablaggio strutturato, <br>
                                                    completo di connettori RJ45 UTP o S-FTP a 8 pin con connessione ad incisione di isolante tipo 110, <br>
                                                    su morsettiera centrale per cavo 22-26AWG, o mediante connettori singoli, completo di barra guidacavi,<br>
                                                    esclusa la quota per attestazione delle linee in ingresso ed uscita. Fornito e posto in opera a perfetta regola d’arte.  <br>
                                                    Fino a 24 porte non schermato con connettori RJ45 per cavo UTP cat. 6.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt215Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.240.5')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt215Value * fun.getPriceByCode('15.3.240.5')|number_format(2) }}</td>
                                            {% set opt21Arr = opt21Arr|merge([itemAdv.opt215Value * fun.getPriceByCode('15.3.240.5')|number_format(2)]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">NP.3</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Pannello Passa Cavi. Fornito e posto in opera
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt216Value }}</td>
                                            <td class="border text-center">19.25</td>
                                            <td class="border text-center">{{ itemAdv.opt216Value * 19.25 }}</td>
                                            {% set opt21Arr = opt21Arr|merge([itemAdv.opt216Value * 19.25 ]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.240.10</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Patch cord tipo UTP cat. 6  fino a 1 m.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt217Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.240.10')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt217Value * fun.getPriceByCode('15.3.240.10')|number_format(2) }}</td>
                                            {% set opt21Arr = opt21Arr|merge([itemAdv.opt217Value * fun.getPriceByCode('15.3.240.10')|number_format(2)]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.240.11</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Patch cord tipo UTP cat. 6  fino a 3 m.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt218Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.240.11')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt218Value * fun.getPriceByCode('15.3.240.11')|number_format(2) }}</td>
                                            {% set opt21Arr = opt21Arr|merge([itemAdv.opt218Value * fun.getPriceByCode('15.3.240.11')|number_format(2)]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.240.7</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Incremento alla singola porta per attestazione conduttori e certificazione.
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt219Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.240.7')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt219Value * fun.getPriceByCode('15.3.240.7')|number_format(2) }}</td>
                                            {% set opt21Arr = opt21Arr|merge([itemAdv.opt219Value * fun.getPriceByCode('15.3.240.7')|number_format(2)]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Mensole</strong>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.560.6</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Mensola di supporto portata max. 50Kg. Profondità 600 mm
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt2110Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.560.6')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt2110Value * fun.getPriceByCode('15.3.560.6')|number_format(2) }}</td>
                                            {% set opt21Arr = opt21Arr|merge([itemAdv.opt2110Value * fun.getPriceByCode('15.3.560.6')|number_format(2)]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.560.5</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Mensola di supporto portata max. 15Kg. Profondità 400 mm
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt2111Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.560.5')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt2111Value * fun.getPriceByCode('15.3.560.5')|number_format(2) }}</td>
                                            {% set opt21Arr = opt21Arr|merge([itemAdv.opt2111Value * fun.getPriceByCode('15.3.560.5')|number_format(2)]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Pannelli ciechi di copertura finale</strong>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.560.2</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Pannello cieco 1 unità
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt2112Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.560.2')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt2112Value * fun.getPriceByCode('15.3.560.2')|number_format(2) }}</td>
                                            {% set opt21Arr = opt21Arr|merge([itemAdv.opt2112Value * fun.getPriceByCode('15.3.560.2')|number_format(2)]) %}
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.560.3</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Pannello cieco 2 unità
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt2113Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.560.3')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt2113Value * fun.getPriceByCode('15.3.560.3')|number_format(2) }}</td>
                                            {% set opt21Arr = opt21Arr|merge([itemAdv.opt2113Value * fun.getPriceByCode('15.3.560.3')|number_format(2)]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Ventilazione forzata </strong>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="border text-center">15.3.560.8</td>
                                            <td class="text-small border" style="max-width: 300px; word-wrap: break-word;">
                                                <small>
                                                    Gruppo di ventilazione per circolazione forzata di aria ad una ventola
                                                </small>
                                            </td>
                                            <td class="border text-center">{{ itemAdv.opt2114Value }}</td>
                                            <td class="border text-center">{{ fun.getPriceByCode('15.3.560.8')|number_format(2) }}</td>
                                            <td class="border text-center">{{ itemAdv.opt2114Value * fun.getPriceByCode('15.3.560.8')|number_format(2) }}</td>
                                            {% set opt21Arr = opt21Arr|merge([itemAdv.opt2114Value * fun.getPriceByCode('15.3.560.8')|number_format(2)]) %}
                                        </tr>
                                        <tr>
                                            <td colspan="5" class="border table-light"><strong>Switch di rete: da definire in base all'architettura e finalità della rete dati</strong>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="border-0"></td>
                                            <td class="border">Totale fornitura in opera.<br> IVA ESCLUSA.</td>
                                            <td class="border text-center">
                                                {% set opt21Total = 0 %}
                                                {% for row in opt21Arr|batch(2) %}
                                                    {% for column in row %}
                                                        {% set opt21Total = opt19Total + column %}
                                                    {% endfor %}
                                                {% endfor %}
                                                {{ opt21Total }} €
                                            </td>
                                        </tr>
                                        {% if sconto != 0 %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border">{{ item.sconto }}% DI SCONTO SUL TOTALE.<br> IVA ESCLUSA</td>
                                                <td class="border text-center">
                                                    {% set sconto = (opt21Total * item.sconto) / 100  %}
                                                    {{ sconto }} €
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE SCONTATO<br> IVA ESCLUSA</strong></td>
                                                <td class="border text-center">
                                                    <strong>{{ (opt21Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% else %}
                                            <tr>
                                                <td colspan="3" class="border-0"></td>
                                                <td class="border"><strong>TOTALE IVA ESCLUSA	</strong></td>
                                                <td class="border text-center">
                                                    <strong> {{ (opt21Total - sconto)|round('2') }} €</strong>
                                                </td>
                                            </tr>
                                        {% endif %}
                                        <tr>
                                            <td colspan="5" class="border-0"></td>
                                        </tr>
                                    {% endif %}
                                    {% if itemAdv.opt20Enabled == 1 %}
                                        {% set opt20Arr = [] %}

                                    {% endif %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block stylesheets %}
    <style>
        .no-wrap {
            max-width: 130px;
            width: 130px;
            white-space: pre-wrap!important; /* css-3 */
            white-space: -moz-pre-wrap!important; /* Mozilla, since 1999 */
            white-space: -pre-wrap!important; /* Opera 4-6 */
            white-space: -o-pre-wrap!important; /* Opera 7 */
            word-wrap: break-word!important; /* Internet Explorer 5.5+ */
        }
        .description {
            max-width: 300px; word-wrap: break-word;;
            white-space: pre-wrap!important; /* css-3 */
            white-space: -moz-pre-wrap!important; /* Mozilla, since 1999 */
            white-space: -pre-wrap!important; /* Opera 4-6 */
            white-space: -o-pre-wrap!important; /* Opera 7 */
            word-wrap: break-word!important; /* Internet Explorer 5.5+ */
        }
        td {
            height: 65px!important;
        }
        .text-small {
            font-size: 10px!important;
        }
    </style>
    <style type="text/css">
        small {
            word-wrap: break-word;
            font-size: 8pt!important;
        }
        td {
            word-wrap: break-word;
        }
        {# TODO: Fix print CSS #}
        @page {
            /*size: landscape;*/
            margin: 0; }
        @media print {
            * {
                font-size: 0.9em!important;
            }
            small {
                font-size: 0.8em!important;
            }
            #page {
                max-width: 23cm!important;
                width: 23cm!important;
            }
            .footer {
                display: none;
            }
            .sf-toolbar {
                display: none;
            }
            .top-title {
                display: none;
            }
            .navbar {
                display: none;
            }
            .navbar-toggler {
                display: none;
            }
            .nav-hide-btn {
                display: none;
            }
            .title-dettagli {
                display: none;
            }
            .ambient-td {
                display: none;
            }
            .ambient-th {
                display: none;
            }
            a {
                text-decoration: none!important;
                color: #000000!important;
            }
            .card-grey {
                border: 1px solid #EEEEEE!important;
            }
            .card {
                padding: 0!important;
                margin: 0!important;
            }
            .table-header {
                background-color: #EEEEEE!important;
            }
            .table td {
                padding: 0px 20px!important;
                margin-left:5px;
                height: 40px!important;
            }
            .action-buttons {
                display: none;
            }
            small {
                word-wrap: break-word;
            }
        }
    </style>
{% endblock %}
{% block javascripts %}
    <script>
        $(document).ready(function () {
            $('#nav-hide-btn-icon').trigger('click');
        });
        $('#print').click(function(e) {
            e.preventDefault();
            window.print();
            return false;
        })
    </script>
{% endblock %}